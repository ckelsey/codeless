!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t){e.exports='<div class="field-text-container field-element-container"> <input placeholder="" value=""> <label></label> <span class="icon-container"></span> <span class="flex-between-center"> <span class="field-help-text"></span> <span class="field-count-text"></span> </span> </div>'},function(e,t){e.exports='<div class="new-project-overlay-container"> <div class="new-project-overlay-inner"> <h2 class="mtop-0">New Project</h2> <form id="new-project-form"> <div class="form-row"> <field-text label="Name" id="new-project-name" name="new-project-name"></field-text> </div> <div class="form-row"> <button id="new-project-save" class="btn">Create</button> <a class="btn-link" id="new-project-cancel">Cancel</a> </div> </form> </div> </div>'},function(e,t){e.exports='<div class="projects-list-container"> <button class="new-project-btn btn">New project</button> <div class="projects-list-items"></div> <new-project-overlay></new-project-overlay> </div>'},function(e,t){e.exports='<div class="flash-message-container"> <div class="flash-message-header"></div> <div class="flash-message-body"></div> <div class="flash-message-footer"></div> </div>'},function(e,t){e.exports='<div class="project-settings-container"> <h3>Project settings</h3> <form> <field-text name="project-name" label="Name"></field-text> <div class="form-row"> <button class="btn">Update</button> <a class="btn btn-danger delete-btn">Delete</a> </div> </form> <flash-message> <div slot-ref="body">Are you sure you want to delete this project?</div> <div slot-ref="footer"> <div class="form-row"> <button class="btn btn-danger delete-confirmed-btn">Delete</button> <a class="btn-link delete-cancel-btn" href="javascript:void(0)">Cancel</a> </div> </div> </flash-message> </div>'},function(e,t){e.exports='<div class="field-textarea-container field-element-container"> <textarea placeholder="" value=""></textarea> <label></label> <span class="icon-container"></span> <span class="flex-between-center"> <span class="field-help-text"></span> <span class="field-count-text"></span> </span> </div>'},function(e,t){e.exports='<div class="component-settings-container"> <field-text name="tag" label="Tag"></field-text> <field-textarea name="template" label="Template"></field-textarea> <h3 class="mbottom-0">Properties</h3> <h3 class="mbottom-0">Elements</h3> <h3 class="mbottom-0">Methods</h3> <h3 class="mbottom-0">Slots</h3> <h3 class="mbottom-0">onConnected(host)</h3> <field-textarea name="onDisconnected" label="Function body"></field-textarea> <h3 class="mbottom-0">onDisconnected(host)</h3> <field-textarea name="onDisconnected" label="Function body"></field-textarea> </div>'},function(e,t){e.exports='<div class="field-button-container"> <button></button> </div>'},function(e,t){e.exports='<div class="field-checkbox-container field-element-container"> <input placeholder="" value="" type="checkbox"> <label></label> <span class="field-help-text"></span> </div>'},function(e,t){e.exports='<div class="field-select-container field-element-container"> <select placeholder="" value=""></select> <label></label> <span class="icon-container"></span> <span class="flex-between-center"> <span class="field-help-text"></span> <span class="field-count-text"></span> </span> </div>'},function(e,t){e.exports='<div class="drop-down-container"> <div class="drop-down-label-container"> <div class="drop-down-label"></div> <div class="drop-down-arrow"></div> </div> <div class="drop-down-items"></div> </div>'},function(e,t){e.exports='<div class="field-multiselect-container field-element-container"> <drop-down class="field-multiselect-dropdown"></drop-down> <span class="flex-between-center"> <span class="field-help-text"></span> <span class="field-count-text"></span> </span> </div>'},function(e,t){e.exports='<div class="field-number-container field-element-container"> <input placeholder="" value="" type="number"> <label></label> <span class="icon-container"></span> <span class="flex-between-center"> <span class="field-help-text"></span> <span class="field-count-text"></span> </span> </div>'},function(e,t){e.exports='<div class="field-radio-container field-element-container"> <div class="field-radio-main-label-container"> <span class="icon-container hide-empty mright-1"></span> <label class="field-radio-main-label hise-empty"></label> <span class="field-help-text hide-empty mleft-1"></span> </div> <div class="field-radio-inputs"></div> </div>'},function(e,t){e.exports='<div class="field-time-container field-element-container"> <label class="field-time-label"></label> <input type="hidden" class="field-time-input-value"> <div class="field-time-inputs"> <div class="field-time-input field-time-hour-input" contenteditable="true"></div> <span class="field-time-input-divider field-time-minutes-divider">:</span> <div class="field-time-input field-time-minutes-input" contenteditable="true"></div> <span class="field-time-input-divider field-time-seconds-divider">:</span> <div class="field-time-input field-time-seconds-input" contenteditable="true"></div> <field-select options="AM,PM" class="field-time-meridien-input w-auto"></field-select> </div> <span class="icon-container"></span> <span class="field-help-text hide-empty"></span> </div>'},function(e,t){e.exports='<div class="editor-function-container"> <field-text name="name" label="Name"></field-text> <h3>Arguments <button class="add-argument-btn">+</button></h3> <div class="arguments-container"></div> <h3>Body <button class="add-statement-btn">+</button></h3> <div class="body-container"></div> </div>'},function(e,t){e.exports='<div class="calendar-day-root"> <div class="calendar-day-number-container"> <div class="calendar-day-number"></div> </div> <div class="calendar-day-content"></div> </div>'},function(e,t){e.exports='<div class="calendar-month-root"> <div class="calendar-month-days"></div> </div>'},function(e,t){e.exports='<div class="service-settings-container"> <form class="a-form"> <calendar-month style="font-size:.25em;margin:3em 0"></calendar-month> <calendar-day></calendar-day> <field-time label="Time" max="08:05" min="06:12"></field-time> <field-multiselect label="Oh yea multiselecting" options="Jesse, James, Jerome" showcount="true" helptext="Feeling mulit?"></field-multiselect> <field-number name="num" max="5" min="2" label="Numbers"></field-number> <field-radio options="Peter, Paul, Mary" label="Some options"> <span slot-ref="icon"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1024px" height="1024px" viewBox="0 0 1024 1024" version="1.1"> <title>code-open</title> <desc>Created with Sketch.</desc> <defs/> <g id="小站" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.779734142"> <g id="code-open" fill="#000000"> <path d="M1018.64495,531.297637 C1027.27952,512.687401 1023.24618,489.87879 1007.20328,475.433694 L802.095304,290.753647 C782.394782,273.015217 752.044514,274.605807 734.306083,294.306329 C716.567653,314.006852 718.158243,344.35712 737.858766,362.09555 L904.138417,511.81442 L736.858766,662.433694 C717.158243,680.172125 715.567653,710.522392 733.306083,730.222915 C751.044514,749.923438 781.394782,751.514028 801.095304,733.775598 L1006.20328,549.09555 C1011.84552,544.015251 1016.00229,537.90046 1018.64495,531.297643 Z M119.947,511.390231 L286.22665,361.671361 C305.927173,343.932931 307.517763,313.582663 289.779333,293.88214 C272.040903,274.181618 241.690635,272.591027 221.990112,290.329458 L16.8821402,475.009505 C0.839236202,489.454601 -3.19410198,512.263212 5.44046645,530.873448 C8.08312579,537.476271 12.2398959,543.591061 17.8821402,548.671361 L222.990112,733.351408 C242.690635,751.089839 273.040903,749.499248 290.779333,729.798726 C308.517763,710.098203 306.927173,679.747935 287.22665,662.009505 L119.947,511.390231 Z M649.492098,134.243566 C674.403037,143.310407 687.247217,170.85484 678.180377,195.765779 L436.030115,861.068155 C426.963275,885.979094 399.418842,898.823274 374.507902,889.756434 C349.596963,880.689593 336.752783,853.14516 345.819623,828.234221 L587.969885,162.931845 L587.969885,162.931845 C597.036725,138.020906 624.581158,125.176726 649.492098,134.243566 Z" id="Combined-Shape"/> </g> </g> </svg> </span> </field-radio> <div style="display:flex;align-items:center"> <field-text name="name" max="5" label="Name" helptext="The name of the service" required="true" labelalign="top"> <span slot-ref="icon"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1024px" height="1024px" viewBox="0 0 1024 1024" version="1.1"> <title>code-open</title> <desc>Created with Sketch.</desc> <defs/> <g id="小站" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.779734142"> <g id="code-open" fill="#000000"> <path d="M1018.64495,531.297637 C1027.27952,512.687401 1023.24618,489.87879 1007.20328,475.433694 L802.095304,290.753647 C782.394782,273.015217 752.044514,274.605807 734.306083,294.306329 C716.567653,314.006852 718.158243,344.35712 737.858766,362.09555 L904.138417,511.81442 L736.858766,662.433694 C717.158243,680.172125 715.567653,710.522392 733.306083,730.222915 C751.044514,749.923438 781.394782,751.514028 801.095304,733.775598 L1006.20328,549.09555 C1011.84552,544.015251 1016.00229,537.90046 1018.64495,531.297643 Z M119.947,511.390231 L286.22665,361.671361 C305.927173,343.932931 307.517763,313.582663 289.779333,293.88214 C272.040903,274.181618 241.690635,272.591027 221.990112,290.329458 L16.8821402,475.009505 C0.839236202,489.454601 -3.19410198,512.263212 5.44046645,530.873448 C8.08312579,537.476271 12.2398959,543.591061 17.8821402,548.671361 L222.990112,733.351408 C242.690635,751.089839 273.040903,749.499248 290.779333,729.798726 C308.517763,710.098203 306.927173,679.747935 287.22665,662.009505 L119.947,511.390231 Z M649.492098,134.243566 C674.403037,143.310407 687.247217,170.85484 678.180377,195.765779 L436.030115,861.068155 C426.963275,885.979094 399.418842,898.823274 374.507902,889.756434 C349.596963,880.689593 336.752783,853.14516 345.819623,828.234221 L587.969885,162.931845 L587.969885,162.931845 C597.036725,138.020906 624.581158,125.176726 649.492098,134.243566 Z" id="Combined-Shape"/> </g> </g> </svg> </span> </field-text> <field-button><span slot-ref="content">Click me</span></field-button> </div> <drop-down> <div slot-ref="label">Hi</div> <div slot-ref="item">Item 1</div> <div slot-ref="item">Item 2</div> <div slot-ref="item">Item 3</div> <div slot-ref="item">Item 4</div> <div slot-ref="item">Item 5</div> </drop-down> <field-textarea label="textarea" showcount="true" max="20" helptext="Text abound?" required="true"></field-textarea> <h3> <span>Private properties </span> <field-button id="add-service-private-property" size="small"><span slot-ref="content">+</span></field-button> </h3> <h3> <span>Public properties </span> <field-button id="add-service-public-property" size="small"><span slot-ref="content">+</span></field-button> </h3> <h3> <span>Methods </span> <field-button id="add-service-public-method" size="small"><span slot-ref="content">+</span></field-button> </h3> <field-checkbox mixed="true" label="A cool Checkbox"></field-checkbox> <field-checkbox label="Another cool Checkbox"></field-checkbox> <field-select label="Totes cool select" options=", 1, false, Carl, Peter, John"></field-select> <editor-function></editor-function> </form> </div>'},function(e,t){e.exports='<div class="services-list-container"> <button class="new-service-btn btn">New service</button> <div class="services-list-items"></div> </div>'},function(e,t){e.exports='<div class="pages-list-container"> <calendar-day></calendar-day> </div>'},function(e,t,n){"use strict";n.r(t);var r={home:{path:"",title:"Projects",redirect:"projects"},projects:{path:"projects",title:"Projects",content:{"left-section":[{tag:"projects-list"}],"right-section":[{tag:"project-settings"}]}},pages:{path:"pages",title:"Pages",content:{"left-section":[{tag:"pages-list"}],"right-section":[]}},components:{path:"components",title:"Components",content:{"left-section":[],"right-section":[{tag:"component-settings"}]}},services:{path:"services",title:"Services",content:{"left-section":[{tag:"services-list"}],"right-section":[{tag:"service-settings"}]}}};function o(e){const t=parseFloat(e);return isNaN(e)?t:e.trim()}function s(e){return null==e}function a(e){return e}function i(e=""){const t=/\((.*?)\)/g.exec(e||"");return t?t[1]:""}function c(e,t,n,r=a){if(!e)return r(n);const c=t.split(".");let l=e;const u=c.length;let d=c.length;for(;d;){if(s(l)){l=n;break}const e=u-d,t=/\(/.exec(c[e]);if(t){const n=l[c[e].slice(0,t.index)];if("function"==typeof n){l=n.apply(l,i(c[e]).split(",").map(o)),d-=1;continue}}l=l[c[e]],d-=1}return s(l)&&(l=n),r(l)}function l(e,t){if(!e)return e;const n=t.split(".");let r=e;const o=n.length;let a=n.length;for(;a&&!s(r);){if(1==a){delete r[n[o-a]];break}r=r[n[o-a]],a-=1}return e}function u(e){if(!(e&&"#text"!=e.nodeName&&(e instanceof Node||e instanceof HTMLElement)))return;const t=c(e,"events",{}),n=c(e,"nodeObserver");for(let n in t)"function"==typeof t[n]&&(t[n](),l(e,"events."+n));return n&&n.disconnect(),l(e,"events")}function d(e){if(Array.isArray(e))return e.slice();const t=[];if(e&&e.length){const n=e.length;let r=0;for(;r<n;)t.push(e[r]),r+=1}return t}function f(e){if(!e)return e;e.style.display="none",d(e.children||[]).forEach(f),u(e),e.parentElement&&e.parentElement.removeChild(e)}function p(e,t,n){const r=t?t.split("."):[];return r.reduce((function(e,t){return e||(e={}),e[t]||(e[t]={}),t?(t===r[r.length-1]&&(e[t]=n),e[t]):(e[t]=null,e)}),e),e}function m({tag:e="",properties:t={},evaluatedProperties:n={},attributes:r={},subscriptions:o={},children:s=[]}){if(!e)return;const a=document.createElement(e);return p(a,"subscriptions",{}),Object.keys(t).forEach(e=>p(a,e,t[e])),Object.keys(n).forEach(e=>p(a,e,n[e]())),Object.keys(r).forEach(e=>a.setAttribute(e,r[e])),Object.keys(o).forEach(e=>p(a,"subscriptions."+e,o[e](a))),s.forEach(e=>a.appendChild(e)),a}function b(e){return!e||"function"!=typeof e.split||""===e}var h=function(e=location.search||""){const t={};let n=e.slice();if(b(n))return t;const r=n.indexOf("?")>-1?n.split("?")[1]:n;return b(r)||r.split("&").forEach((function(e){e&&"function"==typeof e.split&&(t[e.split("=")[0]]=e.split("=")[1])})),t};function g(e,t=(()=>{})){try{return e()}catch(n){try{return e.apply(null)}catch(e){return"function"!=typeof t?t:t()}}}const v=Symbol("__valid"),y=e=>{if(null!=e){try{return void 0===e.constructor.prototype||void 0===e.constructor.prototype[v]||!0===e.constructor.prototype[v]}catch(e){}return!1}};var x=(e,t)=>{if(null!=e){try{e.constructor.prototype[v]=!0===t}catch(e){}return e}};function w(e){return"string"==typeof e?x(e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;|&#8220;|&#8221;|&ldquo;|&rdquo;/g,'"').replace(/&apos;|&lsquo;|&rsquo;|&#8216;/g,"'"),!0):x(e,!1)}function C(e,t=document.body){return d(c(t,`querySelectorAll(${e})`))}function j(e,t=[],n=[]){const r=e,o=g(()=>w(e.toString()),"");if(!o||!o.length)return{original:r,valid:!1,sanitized:o,reason:["no value"]};const s=g(()=>(new DOMParser).parseFromString(o,"text/html"));if(!s)return{original:r,valid:!0,sanitized:o,reason:["no html present"]};const a=C("*",s),i=[];let c=[];c=t.length?t.slice(0):k.concat(O),n.length&&n.forEach((function(e){const t=c.indexOf(e);t>-1&&c.splice(t,1)})),n.length||t.length||(c=k.concat(O)),c.forEach((function(e){const t=C(e,s);let n=t.length;for(;n--;)i.push(t[n])})),i.forEach((function(e){const t=e.parentNode;if(e&&t){const n=e.children.length;let r=0;for(;r<n;)"function"==typeof t.insertBefore&&t.insertBefore(e.children[r],e),r+=1;t.removeChild(e)}}));const l=C("*",s),u=a.length-l.length,d=0===u;return{original:r,valid:d,sanitized:d?o:s.body.innerHTML&&s.body.innerHTML.length?s.body.innerHTML:"",reason:d?[]:[`${u} element${u>1?"s were":"was"} removed`]}}const k=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],O=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"];function A(e){return function(t=""){t=function(e){const t=j(e.split("?")[0]).sanitized;return t.length>1&&"/"===t[t.length-1]?t.slice(0,t.length-1):t}(t.toLowerCase()).split("/").filter(e=>!!e).join("/");let n=0;const r=Object.keys(e||{}),o="string"==typeof t?t.split("/").filter(e=>!!e):[];for(;n<r.length;){if(e[r[n]].path===t)return e[r[n]];if(e[r[n]].path.indexOf("/*")>-1){const t=e[r[n]].path.split("/");if(t.length>o.length&&"**"!==t[o.length-1]){n+=1;continue}if(t.length<o.length&&"**"!==t[t.length-1]){n+=1;continue}let s=!1,a=0;for(;a<t.length;){if(o[a]!==t[a]&&-1===t[a].indexOf("*")){s=!1;break}s=!0,a+=1}if(s)return e[r[n]]}n+=1}}}let E=0;function T(e){return(performance.now()+"xxxxxxxxxxxxxxxx").replace(/[x]|\./g,(function(){return(16*Math.random()|0).toString(16)}))+e}function L(){return E+=1,T(E)}const D=["string","number","null","undefined","function","boolean","date"];function S(e){return D.indexOf(typeof e)>-1||null===e||e instanceof Date}function N(e){return(typeof e).indexOf("object")>-1&&null!==e&&!Array.isArray(e)&&!(e instanceof Date)}function P(e){return null===e?"null":S(e)?function(e){let t=new Date(Date.parse(e));return"Invalid Date"!==t&&!isNaN(t)&&t instanceof Date}(e)?"date":typeof e:function(e){return e instanceof Element||e instanceof Node}(e)?"dom":Array.isArray(e)?"array":N(e)?"object":typeof e}function M(e,t){const n=P(e);if(P(t)!==n)return!1;if(S(e)){if("date"===n){let n=e===t;return n=new Date(e).getTime()===new Date(t).getTime(),n}return t===e}if("boolean"===n&&e!==t)return!1;if("array"===n&&e.length!==t.length)return!1;if("object"===n&&Object.keys(e).length!==Object.keys(t).length)return!1;if("object"===n&&e.constructor!==t.constructor)return!1;if("dom"===n)return e.isEqualNode(t);if("array"===n){let n=e.length;for(;n--;)if(!M(e[n],t[n]))return!1}if("object"===n){const n=Object.keys(e);let r=n.length;for(;r--;)if(!M(e[n[r]],t[n[r]]))return!1}return!0}var I=(e,t=300,n=!1)=>{let r=0;return function(){const o=void 0,s=arguments,a=n&&!r,i=function(){r=requestAnimationFrame((function(){r=0,n||e.apply(o,s)}))};clearTimeout(r),cancelAnimationFrame(r),r=setTimeout(i,t),a&&e.apply(o,s)}};function $(e,t){const n={},r=P(e),o=P(t),s=["object","array"];if(-1==s.indexOf(r)||-1==s.indexOf(o))return e!==t?t||e:void 0;if(r!==o)return"undefined"==o&&"undefined"!==r?e:t;function a(r){if(n[r])return;const o=$(e[r],t[r]);void 0!==o&&(n[r]=e[r]===o?void 0:o)}return"object"==r&&(Object.keys(e).forEach(a),Object.keys(t).forEach(a)),"array"==r&&(e.forEach((e,t)=>a(t)),t.forEach((e,t)=>a(t))),n}const q=new WeakMap,F={};window.observers=()=>({map:q,keys:Object.keys(F)});const _=(e,t)=>{},B=e=>{},V=()=>{},H=(e,t,n)=>V,R=e=>{};function z(e,t={}){let n=[L()];F[n[0]]=n;const r=!!t.noInit,o=!!t.nextOnNew,s=!!t.matchType,a=t.onSubscribe&&"function"==typeof t.onSubscribe?t.onSubscribe:e=>e,i=t.formatter&&"function"==typeof t.formatter?t.formatter:e=>e,l=P(i(e)),u=!!t.takeFirst,d=!!t.takeLast,f=!!u||!!d,p=t.takeBy||0,m=()=>q.get(n),b=(e,t={})=>{const n=i(e,t),r=m();return r&&s&&P(n)!=l?r.data.value:n},h=[b(e)];function g(e,t){return((e,t)=>Array.isArray(e)&&Array.isArray(t))(e,t)?e.reduce((e=>(t,n)=>(-1===e.indexOf(n)&&t.push(n),t))(t),[]):[]}function v(){const e=m();e&&(e.trigger("destroy",e.data),Object.keys(e.data.subscriptions).forEach(t=>c(e.data,`subscriptions.${t}.unsubscribe`,V)),e.data.isComplete=!0,delete F[n[0]],q.delete(n),n=void 0)}function y(e,t,n){const r=m();if(!r)return;r.trigger(e,n||{});const o=r.data.subscriptions;Object.keys(o).forEach(((e,t,n,r)=>o=>{const s=c(r,`${o}.${n}`);"function"==typeof s&&s(e,t||{},o)})(t,n,e,o)),"complete"===e&&v()}const x=I(y,p,!!u),w=f?x:y;function C(e){return function(){const t=m();if(!t)return;const n=t.data.subscriptions;delete n[e.id],t.trigger("unsubscribe",{subscription:e,subscriptions:n}),t.data.noSubsComplete&&0===Object.keys(n).length&&v()}}function j(e,t){const n=m();if(!n||!t)return;const r=n.data.value.indexOf(e);return r>-1?r:void 0}function k(e){let t;const n=m();if(!n)return;const r=n.data.value,o=Object.keys(r);let s=o.length;for(;s--;)if(e===r[o[s]]){t=o[s];break}return t}function O(e){const t=c(e=e||m(),"data.value");return e?{value:t,isArray:Array.isArray(t),isString:"string"==typeof t}:{}}let A={get isComplete(){const e=m();return!e||e.data.isComplete},get value(){const e=m();if(e)return e.data.value},get previous(){const e=m();if(e)return e.data.previousValue},get subscriptions(){const e=m();if(e)return e.data.subscriptions},get lastUpdate(){const e=m();if(e)return e.data.updated},get settings(){return{initialType:l,formatter:i,matchType:s,nextOnNew:o,noInit:r,takeFirst:u,takeLast:d,takeBy:p}},get removed(){return function(){const e=m();return e&&e.data?g(e.data.previousValue,e.data.value):[]}()},get added(){return function(){const e=m();return e&&e.data?g(e.data.value,e.data.previousValue):[]}()},get changed(){const e=m();return e?$(e.data.previousValue,e.data.value):[]},next:function(e,t){const n=m();if(!n)return;const r=b(e,n);return!t&&o&&M(r,n.data.value)?void 0:(n.data.value=r,n.data.updated=(new Date).getTime(),w("next",n.data.value,n.data),n.data)},error:function(e){const t=m();t&&(t.data.errors=t.data.errors.concat([e]),t.data.updated=(new Date).getTime(),w("error",e,t.data),t.complete())},complete:function(){const e=m();e&&w("complete",e.data)},subscribe:function(e,t=(e=>{}),n=V){const o=m();if(!o)return()=>{};const s=Object.assign({},{next:e,error:t,complete:n,id:L()});return s.unsubscribe=C(s),o.data.subscriptions[s.id]=s,r||void 0===o.data.value||"function"!=typeof s.next||s.next(o.data.value),a(s),C(s)},unsubscribe:function(e){const t=m();if(t&&e&&e.id&&t.data.subscriptions[e.id])return C(e)},insert:function(e,t){const n=m();if(!n)return;const r=O(n);return t=null==t?c(r,"value.length",0):t,r.isArray?(r.value.splice(t,t!==r.value.length?1:0,e),n.next(r.value,!0)):"string"==typeof r.value?(r.value=r.value.slice(0,t)+e+r.value.slice(t),n.next(r.value,!0)):(r.value[t]=e,n.next(r.value,!0))},insertAll:function(e,t){const n=m();if(!n)return;const r=O(n);if(t=null==t?c(r,"value.length",0):t,r.isArray){if(!Array.isArray(e))return;return r.value.splice.apply(r.value,[t,t!==r.value.length?1:0,...e]),n.next(r.value,!0)}const o=e;return Object.keys(o).forEach(e=>n.data.value[e]=o[e]),n.next(r.value,!0)},remove:function(e,t,n=!1){const r=m();if(!r)return;const o=O(r);if(void 0===t&&(t=j(e,o.isArray)),void 0===t&&o.isArray)return o.value;if(void 0===t&&o.isString)return r.next(o.value.replace(new RegExp(e,n?"gm":""),""),!0);if(void 0!==t)return o.isArray?o.value.splice(t,1):o.isString?r.data.value=o.value.slice(0,t):(r.data.value[t]=void 0,delete r.data.value[t]),r.next(o.value,!0);const s=k(e);return void 0!==s?(r.data.value[s]=null,delete r.data.value[s],r.next(r.data.value,!0)):r.next(r.data.value,!0)},removeElements:function(e){const t=m();if(!t)return;const n=O(t);if(n.isArray){for(let t=0;t<e.length;t+=1){const r=n.value.indexOf(e[t]);r>-1&&n.value.splice(r,1)}return t.next(n.value,!0)}return Object.keys(e).forEach(e=>delete n.value[e]),t.next(n.value,!0)},reverse:function(){const e=m();if(!e)return;const t=O(e);return t.isArray?e.next(t.value.reverse(),!0):t.isString?e.next(t.value.split("").reverse(),!0):void e.next(t.value,!0)},has:function(e){const t=O();if(t.isArray)return j(e,t.isArray)||!1;if(t.isString)return t.value.indexOf(e)>-1;return void 0!==k(e)},indexOf:function(e){const t=O();return t.isArray?j(e,t.isArray)||-1:t.isString?t.value.indexOf(e):k(e)||-1},on:function(e,t){const r=m();if(!r)return()=>{};r.data.eventCallbacks[e]||(q.get(n).data.eventCallbacks[e]={});const o=L();return q.get(n).data.eventCallbacks[e][o]=t,()=>delete q.get(n).data.eventCallbacks[e][o]},trigger:function(e,t){const n=m();if(!n)return;const r=n.data.eventCallbacks[e];r&&Object.keys(r).forEach(e=>r[e](t))},data:{errors:[],updated:(new Date).getTime(),subscriptions:{},isComplete:!1,initialType:l,initialValue:e,eventCallbacks:{},formatter:i,matchType:s,nextOnNew:o,noInit:r,noSubsComplete:!0===t.noSubsComplete,takeFirst:u,takeLast:d,value:null,previousValue:null}};return q.set(n,A),Object.defineProperties(m().data,{value:{get:()=>h[0],set(e){for(h.unshift(e);h.length>2;)h.pop()}},previousValue:{get:()=>h[1]}}),m()}function W(e,t,n={}){if(!e||!t)return{isComplete:!0,value:void 0,previous:void 0,subscriptions:{},lastUpdate:0,settings:{},removed:[],added:[],changed:{},next:_,error:B,complete:V,subscribe:H,unsubscribe:R,insert:(e,t)=>{},insertAll:(e,t)=>{},remove:(e,t,n)=>{},removeElements:e=>{},reverse:V,has:e=>!1,indexOf:e=>-1,on:(e,t)=>()=>{},trigger:(e,t)=>{},data:{}};let r=!1;function o(){return e&&"function"==typeof e.addEventListener}n=Object.assign({},{preventDefault:!1,stopPropagation:!1,useCapture:!0},n||{});const s=z(void 0,Object.assign({},n,{onSubscribe:function(){if(!r){if(!o())return i();r=!0,e.addEventListener(t,a,n.useCapture)}},noSubsComplete:!0}));function a(e){if(!s||!s.subscriptions||0===Object.keys(s.subscriptions).length)return i();("function"==typeof n.preventDefault&&n.preventDefault(e)||"boolean"==typeof n.preventDefault&&n.preventDefault)&&e.preventDefault(),("function"==typeof n.stopPropagation&&n.stopPropagation(e)||"boolean"==typeof n.stopPropagation&&n.stopPropagation)&&e.stopPropagation(),s.next(e)}function i(){o()&&e.removeEventListener(t,a,n.useCapture),r=!1,Window}return s}const U=e=>"a"===c(e,"tagName","nope").toLowerCase()&&c(e,"href")?e:void 0,Y=(e,t)=>{let n,r=0;for(;!n&&t(r);){const t=c(e,r.toString(),void 0,U);t&&(n=t),r+=1}return n},J=e=>{const t=e.target,n=c(t,"tagName","nope").toLowerCase(),r=c(e,"path",""),o=e.composedPath&&"function"==typeof e.composedPath?e.composedPath():void 0;let s;"a"===n&&(s=t),!s&&Array.isArray(r)&&(s=Y(c(e,"path"),e=>e<r.length)),!s&&o&&(s=Y(o,e=>e<o.length));const a=c(e,"originalTarget",c(e,"explicitOriginalTarget"),c(e,"parentNode"));if(!s&&a&&(s=function(e,t){let n;for(;!n&&e&&e!==document.body;)t(e)&&(n=e),e=e.parentNode;return n}(a,e=>"a"===c(e,"tagName").toLowerCase())),!s||"_blank"===s.getAttribute("target"))return;const i=g(()=>new URL(s.href));return i&&i.host===location.host?{link:s,href:i.href,path:i.pathname,search:i.search}:void 0};var Z=function(){const e=z({},{matchType:!0,nextOnNew:!0,noSubsComplete:!0,noInit:!0}),t=W(document.documentElement,"click",{preventDefault:J}).subscribe(t=>{const n=J(t);n&&e.next(n)},()=>t(),()=>t());return e}();var Q=function(e={}){if(!Object.keys(e).length)return"";const t=Object.keys(e).map((function(t){return null!=(n=e[t])&&!1!==n&&"".concat(t,"=",e[t]);var n})).filter((function(e){return!!e})).join("&");return t?"?"+t:""};function X(e="/",t={},n=!1){const r=function(e,t={}){return`${location.protocol}//${location.host}${function(e=""){return"/"==e[0]?e:"/"+e}(e)}${Q(t)}`}(e,t);n&&history.replaceState&&history.replaceState({},document.title,r),!n&&history.pushState&&history.pushState({},document.title,r)}function G(...e){const t=arguments,n=t.length;return function(e){let r=n+1;for(;r--;)e="function"!=typeof t[n-r]?e:t[n-r](e);return e}}function K(e){const t=Object.assign({},e),n=A(t),r=(e={},t=[])=>{const n={},r=Object.keys(e);return t.length&&r.length?(r.forEach(r=>t.indexOf(r)>-1?n[r]=e[r]:void 0),n):n},o=n(`${location.pathname}${location.search}`),s={path:location.pathname,query:h(location.search),base:`${location.protocol}//${location.host}`};s.query=r(s.query,c(o,"allowedQueries"));const a=Object.assign({},s,o),i=G(n,e=>e?e.redirect?n(e.redirect):e:void 0),l=z(a.query,{matchType:!0,nextOnNew:!0}),u=z(a,{matchType:!0,nextOnNew:!0,formatter:(e,t)=>{const n=c(t,"value",a),o="string"!=typeof e?"":e.split("?")[0].split("/").filter(e=>!!e).join("/"),s=c(e,"path",o,e=>"string"==typeof e?e:void 0);if(!s&&""!==s)return n;const u=i(s);if(!u)return n;const d=c(e,"query","string"==typeof e?h(e):{});n.query=r(d,c(u,"allowedQueries"));const f=$(l.value,n.query);Object.keys(f).length&&l.next(n.query);const p=Object.assign({},n,u);return X(p.path,p.query,n.path===p.path),p}});Z.subscribe(e=>u.next(`${e.path}${e.search||""}`));const d=W(window,"popstate");return d&&d.subscribe(()=>u.next(`${location.pathname}${location.search}`)),{routes:t,subscribeToRoute:function(e,t,n){return u.subscribe(e,t,n)},subscribeToQuery:function(e,t,n){return l.subscribe(e,t,n)},get current(){return u.value},set current(e){u.next(e)},get query(){return c(u,"current.query",{})},set query(e){u.next(Object.assign({},u.value,{query:Object.assign({},c(u,"value.query"),e)}))},get lastState(){return u.previous}}}function ee(){return new Promise(e=>"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e))}const te=new WeakMap,ne=new Map;let re=!1;function oe(e){"childList"===e.type&&(d(e.removedNodes).forEach(e=>function e(t){if(!t)return;t.children&&d(t.children).forEach(t=>e(t)),u(t);const n=c(t,"nodeName.toLowerCase()"),r=c(t,"onDisconnected");te.get(ne.get(n))&&"function"==typeof r&&r(t)}(e)),d(e.addedNodes).forEach(e=>function e(t){if(!t)return;const n=c(t,"nodeName.toLowerCase()");"#text"!==n&&(n&&te.get(ne.get(n))&&te.get(ne.get(n)).create(t),d(t.children).forEach(t=>e(t)))}(e)))}var se={add:(e,t)=>(re?ee():(re=!0,new Promise(e=>{ee().then(()=>{new MutationObserver(e=>d(e).forEach(oe)).observe(document.body,{childList:!0,subtree:!0}),e()})}))).then(()=>{ne.set(e.tag,{tag:e.tag}),te.set(ne.get(e.tag),{settings:e,create:e=>t(e)?e.onConnected(e):void 0}),d(document.body.querySelectorAll(e.tag)).forEach(()=>te.get(ne.get(e.tag)).create)})};function ae(e){return new Promise(t=>{let n=100;const r=()=>{if(n-=1,e.state){const n=Object.keys(e.state);if(n.length&&"function"==typeof e.state[n[0]].subscribe)return requestAnimationFrame(()=>t(e.state))}n>0&&requestAnimationFrame(r)};r()})}function ie(e){return e?(d(e.children||[]).forEach(f),e):e}function ce(e,t,n){let r;return"function"==typeof Event?r=new CustomEvent(t,{detail:n}):(r=document.createEvent("Event"),r.initEvent(t,!0,!0)),e.dispatchEvent(r),e}const le=window;function ue(){}function de(e){const t=e.target,n=e.attributeName;t&&t.parentNode&&n&&(t[n]=t.getAttribute(e.attributeName))}function fe(e,t){e&&t&&d(e.children).forEach(n=>{const r=n.getAttribute("slot-ref");if(!t[r])return;const o=e.querySelector(t[r].target);o&&(t[r].multiple||ie(o),o.appendChild(document.adoptNode(n)),ce(e,"slotchanged",{slot:r,element:n}))})}function pe(e,t){t.methods&&Object.keys(t.methods).forEach(n=>e[n]=t.methods?t.methods[n](e):void 0),t.elements&&(e.elements=function(e,t){const n={__elementCache:[],__getElement:function(n){const r=d(e.querySelectorAll(t[n].selector));return r.length>1?r:r[0]}};for(let r in t){const o=t[r];n.__elementCache[r]=n.__getElement(r),Object.defineProperty(n,r,{get:function(){return n.__getElement(r)},set:function(t){ae(e).then(()=>"function"!=typeof o.onChange?void 0:o.onChange(t,e))}})}return n}(e,t.elements)),t.properties&&Object.keys(t.properties).forEach(n=>function(e,t,n){const r=Object.assign({format:e=>e},n);"function"!=typeof r.format&&(r.format=e=>e);const o=r.format(e.getAttribute(t)||e[t]||r.initialValue,e);if(e.state[t]||(e.state[t]=z(o,{initialValue:o,nextOnNew:!1!==r.nextOnNew,matchType:r.matchType})),Object.getOwnPropertyDescriptor(e,t)||Object.defineProperty(e,t,{get:()=>e.state[t].value,set(n){if(!e.state[t])return;const o=r.format(n,e);if(!M(e.state[t].value,o)){let s=r.reflect&&o!==e.getAttribute(t)&&o==n;e.state[t].next(o),s&&e.setAttribute(t,o),le.genesis(`${e.tagName} property ${t} updated - ${e.componentId}`)}}}),"function"!=typeof r.onChange)return;return e.state[t].subscribe(t=>r.onChange?r.onChange(t,e):void 0)}(e,n,c(t,"properties."+n)));(t.onConnected||ue)(e),t.slots&&Object.keys(t.slots).forEach(t=>{d(e.querySelectorAll(`[slot-ref="${t}"]`)).forEach(n=>ce(e,"slotchanged",{slot:t,element:n}))}),requestAnimationFrame(()=>e.setAttribute("ready","true")),le.genesis(`Connected ${e.tagName} - ${e.componentId}`)}function me(e){se.add(e,(function(t){if(t.constructed)return;le.genesis("Creating "+e.tag),t=function(e){return e.constructed=!0,e.componentId=e.componentId||L(),e.state=e.state||{},e.elements=e.elements||{},e}(t),le.genesis(`Init ${e.tag} - ${t.componentId}`),t.onConnected=()=>pe(t,e),t.onDisconnected=function(){requestAnimationFrame(()=>{t.parentNode||(u(t),"function"==typeof e.onDisconnected&&e.onDisconnected(t),t.state&&Object.keys(t.state).forEach(e=>t.state[e].complete()))}),le.genesis(`Disconnected ${t.tagName} - ${t.componentId}`)};const n=function(e){const t=[];let n=e.childNodes.length;for(;n--;)"#text"!==(r=e.childNodes[n]).nodeName||/\S/gm.test(r.textContent||"")?t.push(e.childNodes[n]):e.removeChild(e.childNodes[n]);var r;return t.reverse()}(t);if(n[0]){const r=document.createDocumentFragment(),o=document.createElement("div");o.innerHTML=e.template||"",r.appendChild(o),d(o.children).forEach(e=>t.insertBefore(e,n[0]))}else t.innerHTML=e.template||"";const r=Object.keys(e.slots||{}).length>0,o=new MutationObserver(n=>{let o=!1;for(let e=0;e<n.length;e++)"attributes"===n[e].type&&de(n[e]),"childList"===n[e].type&&r&&(o=!0);o&&function(e,t){fe(e,t.slots);const n=t.elements||{};Object.keys(n).forEach(t=>{if(!n[t]||"function"!=typeof n[t].onChange)return;const r=e.elements.__getElement(t);console.log("el",r),r&&!M(r,e.elements.__elementCache[t])&&(e.elements[t]=r)})}(t,e)});return o.observe(t,function(e,t){const n={attributes:!!(Array.isArray(e)&&e.length),childList:!0,subtree:!0};return(n.attributes||t)&&(n.attributeFilter=e||[],t&&n.attributeFilter.push("slot-ref")),n}(["events"].concat(Object.keys(e.properties||{})),e.slots)),t.nodeObserver=o,void 0!==t.events&&(t.state.__events=z({},{nextOnNew:!0,matchType:!0}),Object.defineProperty(t,"events",{get:()=>t.state.__events.value,set(e){Object.keys(t.state.__events.value).forEach(e=>{"function"==typeof t.state.__events.value[e]&&t.state.__events.value[e]()}),t.state.__events.next(e)}})),r&&n.length&&fe(t,e.slots),ce(t,"ready",t),t})),le.genesis(e.tag+" registered")}function be(e){return g(()=>x(JSON.parse(e),!0))||x(e,!1)}function he(e){return function(e,t){return x(e||t,!!e)}(g(()=>JSON.stringify(e)),e)}le.genesisObserver=z([{src:"dawn",time:new Date}]),le.genesis=function(e){le.genesisObserver.insert({src:e,time:new Date})},le.showGenesis=()=>{console.log(le.genesisObserver.value,le.genesisObserver.value[le.genesisObserver.value.length-1].time-le.genesisObserver.value[0].time)};const ge=e=>be(localStorage.getItem(e)),ve=(e,t)=>localStorage.setItem(e,"string"==typeof t?t:he(t)),ye=z(ge("projects")||[],{matchType:!0,nextOnNew:!0});ye.subscribe(e=>{ve("projects",e)});const xe=z(ge("project")||"",{matchType:!0,nextOnNew:!0});xe.subscribe(e=>ve("project",e));var we={get projects(){return ge("projects")||ye.next([]),ye.value},set projects(e){ye.next(e)},get currentProject(){return xe.value},set currentProject(e){xe.next(e)}};const Ce=z(we.projects,{matchType:!0,nextOnNew:!0,formatter:e=>{const t=[];return e.forEach(e=>e.name&&e.id?t.push(e):void 0),t}});function je(e){const t=Ce.value;let n,r=t.length;for(;!n&&r--;)t[r].id==e&&(n=t[r]);return n}function ke(e){const t=Ce.value;let n,r=t.length;for(;null==n&&r--;)t[r].id==e&&(n=r);return n}Ce.subscribe(e=>we.projects=e);const Oe=z(je(we.currentProject),{nextOnNew:!0,formatter:(e,t)=>{const n=c(e,"id");return n&&je(n)||c(t,"value")}});Oe.subscribe(e=>we.currentProject=e.id);const Ae={subscribeToList:Ce.subscribe,get list(){return Ce.value},subscribeToCurrent:Oe.subscribe,get current(){return Oe.value},set current(e){Oe.next(Ae.findById(c(e,"id",e)))},findById:je,findIndexById:ke,newProject(e){if(!e)return;let t=L();for(;Ae.findById(t);)t=L();Ce.insert({name:e,id:t,updated:(new Date).getTime(),created:(new Date).getTime()}),Ae.current=Ae.findById(t)},saveProject:({name:e="",id:t=""})=>t&&je(t)?e?new Promise(n=>{const r=function e(t,n){const r=P(t),o=P(n),s=["object","array"];if(-1==s.indexOf(r)||-1==s.indexOf(o)||r!==o)return void 0===n?t:n;function a(t,r){return-1==s.indexOf(n[r])?t[r]=n[r]:t[r]=e(t[r],n[r]),t}return"object"==r?Object.keys(n).reduce(a,t):"array"==r?n.reduce(a,t):t}(je(t),{name:e,id:t,updated:(new Date).getTime()});return Ce.insert(r,ke(t)),n(r)}):Promise.reject("Project must have a name"):Promise.reject("Invalid project"),deleteProject:e=>e&&je(e)?new Promise(t=>{const n=ke(e);return Ce.remove(void 0,n),t()}):Promise.reject("Invalid project")};var Ee=Ae;function Te(e){if(e instanceof Date)return x(e,!0);const t=g(()=>new Date(Date.parse(e)));return x(t,"Invalid Date"!==t&&!isNaN(t)&&t instanceof Date)}function Le(e){let t=Te(e);if(!y(t))return t;const n=parseInt(t.toLocaleTimeString(navigator.language,{hour:"numeric",hour12:!0}));return{year:t.getFullYear(),yearShort:t.toLocaleDateString(navigator.language,{year:"2-digit"}),monthIndex:t.getMonth(),month:t.getMonth()+1,monthDouble:t.toLocaleDateString(navigator.language,{month:"2-digit"}),monthName:t.toLocaleString(navigator.language,{month:"long"}),monthNameShort:t.toLocaleString(navigator.language,{month:"short"}),day:t.getDate(),dayDouble:t.toLocaleDateString(navigator.language,{day:"2-digit"}),dayOfWeek:t.toLocaleString(navigator.language,{weekday:"long"}),dayOfWeekShort:t.toLocaleString(navigator.language,{weekday:"short"}),dayIndex:t.getDay(),hour24:parseInt(t.toLocaleTimeString(navigator.language,{hour:"numeric",hour12:!1})),hour:n,hourDouble:t.toLocaleTimeString(navigator.language,{hour:"2-digit",hour12:!0}).replace(/[^0-9.]+/g,""),hourDouble24:t.toLocaleTimeString(navigator.language,{hour:"2-digit",hour12:!1}).replace(/[^0-9.]+/g,""),minutes:parseInt(t.toLocaleTimeString(navigator.language,{minute:"numeric"})),minutesDouble:("0"+t.getMinutes()).slice(-2),seconds:parseInt(t.toLocaleTimeString(navigator.language,{second:"numeric"})),secondsDouble:("0"+t.getSeconds()).slice(-2),milliseconds:t.getMilliseconds(),ampm:t.toLocaleTimeString(navigator.language,{hour12:!0,hour:"numeric"}).replace(/[:\d]/g,"").trim(),date:t}}function De(e,t){function n(t){const n=!y(t);return x("function"==typeof e?n?e():t:n?e:t,!0)}return 1===arguments.length?n:n(t)}const Se={},Ne=[];let Pe,Me,Ie=!1;function $e(e){Se[e]&&(Se[e].hasRun=!0,Se[e].canceled=!0,delete Se[e])}function qe(e){return performance.now()-e<Fe.max}function Fe(e){cancelAnimationFrame(Pe),clearTimeout(Me);do{const e=Ne.shift();e&&(!Se[e]||Se[e].canceled||Se[e].hasRun||(Se[e].hasRun=!0,Se[e].resolve(Se[e].task()),requestAnimationFrame((function(){$e(e)}))))}while(qe(e)&&Ne.length);if(Ne.length)return Pe=requestAnimationFrame((function(){Me=setTimeout((function(){Fe(performance.now())}))}));Ie=!1}function _e(e){let t,n;const r=new Promise((function(e,r){t=e,n=r})),o=L();return Se[o]={hasRun:!1,canceled:!1,task:e,promise:r,resolve:t,reject:n,id:o,cancel:function(){$e(o)}},Ne.push(o),!Ie&&Ne.length&&(Ie=!0,Fe(performance.now())),Se[o]}Fe.max=4.5,_e.max=function(e){Fe.max=e};const Be={};let Ve=!1;function He(e){if(!e||!e.id)return;const t=e.id;Be[t]&&!Be[t].resolved&&(Be[t].resolved=!0,Be[t].resolve(),_e((function(){delete Be[t]})))}function Re(){Ve=!0;const e=Object.keys(Be);e.length?(e.forEach((function(e){if(!Be[e]||Be[e].resolved)return;const t=Be[e],n=(new Date).getTime()-t.started;n>=t.frameValues.length?(t.end=n,_e((function(){return t.stepFn(t.frameValues[t.frameValues.length-1])})),_e((function(){return He(t)}))):_e((function(){return t.stepFn(t.frameValues[n])}))})),_e(Re)):Ve=!1}const ze=()=>({id:"",stepFn:()=>{},frameValues:[],resolved:!0,started:(new Date).getTime(),cancel:()=>{},then:e=>Promise.reject(e),catch:e=>Promise.reject(e),promise:new Promise((e,t)=>t()),resolve:Promise.reject,reject:Promise.reject});var We=function(e,t){if(!Array.isArray(t)||0===t.length)return ze();if("function"!=typeof e)return ze();const n=L();let r,o;const s=new Promise((function(e,t){r=e,o=t}));return Be[n]={id:n,stepFn:e,frameValues:t,resolved:!1,started:(new Date).getTime(),cancel:function(){return He(Be[n])},then:function(e){return s.then(e)},catch:function(e){return s.catch(e)},promise:s,resolve:r,reject:o},Ve||Re(),Be[n]};function Ue(e,t,n=4){return function(e,t,n,r){const o=[];let s=0;for(;s<t-1;){const i=Math.round(1e3*(((a=e)[1]-a[0])*r(s,t,n)))/1e3;o.push(e[0]+i),s+=1}var a;return o.push(e[1]),o}(e,t,n,(function(e,t,n){return function(e,t){return t=void 0===t?4:t,1-Math.pow(1-e,t)}(e/t*(e/t),n)}))}function Ye(e,t){function n(t){return x(t,g(()=>Array.from(e).indexOf(t)>-1))}return 1===arguments.length?n:n(t)}function Je(e){const t=Number(e),n=!isNaN(t);return x(n?t:e,n)}const Ze=["center","left","right","top","bottom","center center","center top","center bottom","left center","left top","left bottom","right center","right top","right bottom"],Qe=["content","parent","page"];function Xe(e,t,{align:n,speed:r,widthbasis:o,scrim:s}={align:"center",speed:100,widthbasis:"content",scrim:!1,hideOnEscape:!0}){t.classList.add("overlay-content-target"),s?t.classList.add("overlay-content-scrim"):s=!1,"page"==o&&t.classList.add("overlay-content-fullpage");const a={parent:e,target:t,scrim:s,showing:!1,align:G(Ye(Ze),De("center"))(n),speed:G(Je,De(100))(r),widthbasis:G(Ye(Qe),De("content"))(o),positionTimer1:null,positionTimer2:null,get position(){return a.getPositions()},getPositions:()=>new Promise(n=>requestAnimationFrame(()=>{const r=e.getBoundingClientRect(),o=t.getBoundingClientRect(),s=window.innerWidth,a=window.innerHeight,i=r.top>a-(r.top+r.height),l=r.top-10>a||r.bottom+10<0,u=c(t,"offsetLeft",0);return n({parent:e,parentBox:r,target:t,targetBox:o,windowHeight:a,windowWidth:s,isOnTop:i,outOfView:l,targetLeft:u,targetTop:c(t,"offsetTop",0),leftShift:u-Math.round(o.left)})})),scrollContent:(e,n)=>{t.scrollTop=n,t.scrollLeft=e},show:()=>a.showing?Promise.resolve():(a.showing=!0,function e(t){clearTimeout(t.positionTimer1),cancelAnimationFrame(t.positionTimer2);const n=t.parent;t.showing&&n&&"page"!=t.widthbasis&&t.getPositions().then((function(n){if(clearTimeout(t.positionTimer1),cancelAnimationFrame(t.positionTimer2),n.outOfView)return t.hide();n.isOnTop?(n.target.style.transformOrigin="50% 100%",n.target.style.top=n.parentBox.top-n.targetBox.height+"px"):(n.target.style.transformOrigin="50% 0%",n.target.style.top=n.parentBox.bottom+"px"),n.parentBox.left+n.targetBox.width>n.windowWidth?n.parentBox.right>n.windowWidth?n.target.style.left=n.windowWidth-n.targetBox.width+n.leftShift+"px":n.target.style.left=n.parentBox.right-n.targetBox.width+n.leftShift+"px":n.target.style.left=n.parentBox.left+n.leftShift+"px",t.positionTimer1=setTimeout(()=>{t.positionTimer2=requestAnimationFrame(()=>e(t))},33)}))}(a),p(t,"style.pointerEvents","all"),p(t,"style.zIndex","999"),function(e,t,n){return We(n,Ue(e,t))}([0,1],a.speed,e=>{p(t,"style.transform",`scale(1, ${e})`),p(t,"style.opacity",e)}).then(()=>{p(t,"style.transform","scale(1, 1)"),p(t,"style.opacity",1),ce(t,"shown",a)})),hide:()=>a.showing?(p(t,"style.pointerEvents","none"),p(t,"style.zIndex",-1),new Promise(e=>{a.showing=!1,p(t,"style.transform","scale(1, 0)"),p(t,"style.opacity",0),e(ce(t,"hidden",a))})):Promise.resolve()},i=W(window,"keydown");if(i){const n=i.subscribe(r=>{if(!e||!t)return n();"Escape"==r.key&&a.hide()})}return a}const Ge=["0",0,"off","false",!1],Ke=["1",1,"on","true",!0];function et(e){const t=Ke.indexOf(e)>-1,n=Ge.indexOf(e)>-1;return x(!!t,t||n)}function tt(e){return t=g(()=>e.toString()),x(t,"string"==typeof t);var t}function nt(e){return!!e}function rt(e){if(function(e){return null==e||""===e||Array.isArray(e)&&0===e.length||(typeof e).indexOf("object")>-1&&0===Object.keys(e).length||!1===e||"false"===e||"undefined"===e||"null"===e}(e))return x(e,!1);if("function"!=typeof e.split&&"object"==typeof e)return x(new RegExp(e),!0);if(0===e.indexOf("/")){const t=e.split("/").filter(nt);let n=t.pop()||"";return n.match(/[^gmisuy]/)&&(t.push(n),n=""),x(new RegExp(t.join("/"),n||void 0),!0)}return x(new RegExp(e),!0)}function ot(e){return null==e||""===e||"undefined"===e||"null"===e}const st=(e=!1)=>({format:t=>G(et,De(e))(t)}),at=()=>({format:e=>G(tt,De(""),e=>j(e).sanitized)(e)}),it=e=>c(e,"elements.input",c(e,"elements.input.0")),ct=()=>({format:e=>G(tt,De(""),e=>j(e).sanitized)(e)});function lt(){return{autocomplete:st(!0),autofocus:st(!1),disabled:st(!1),error:{format:G(tt,De(""),e=>j(e).sanitized)},focused:{format:(e,t)=>document.activeElement==it(t)},form:{format:(e,t)=>c(it(t),"form")},helptext:at(),iconalign:{format:G(tt,Ye(["left","right"]),De("left"))},isempty:{format:(e,t)=>ot(c(t,"value"))},id:{format:G(tt,e=>De(L(),e)),reflect:!0},isvalid:{format:(e,t)=>c(it(t),"validity.valid")},label:ct(),labelalign:{format:G(tt,Ye(["top","inside"]),De("inside"),e=>j(e).sanitized),reflect:!0},name:at(),readonly:st(!1),required:st(!1),value:{format:e=>e},validity:{format:(e,t)=>c(it(t),"validity")},validationMessage:{format:(e,t)=>c(it(t),"validationMessage")},willValidate:st(!0)}}function ut(){return{count:{format:(e,t)=>t.elements.input.value?t.elements.input.value.length:0},max:{format:G(Je,De(void 0))},min:{format:G(Je,De(void 0))},pattern:{format:G(rt,De(void 0))},showcount:st(!1)}}function dt(e){if(!e)return;const t="select"===e.tagName.toLowerCase()?"select":e.type;return"checkbox"===t||"radio"===t?e.checked:"select"===t?c(e,`options.${Math.max(e.selectedIndex,0)}.value`):"file"===t?Array.from(e.files):e.value}function ft(e,t){if(!e)return;const n=e.type;return"checkbox"===n||"radio"===n?e.checked=G(et,De(!1))(t):e.value=t}function pt(e,t,n=!1){return function(r){document.activeElement===e||""!==e.value?e.setAttribute("label-up","true"):e.removeAttribute("label-up"),r&&!n&&("focusin"===r.type&&ce(t,"focus",t),"focusout"===r.type&&ce(t,"blur",t),"input"===r.type&&p(t,"value",e.value))}}const mt=(e,t,n)=>()=>{t.focused=n,(e=>-1!=["radio","checkbox"].indexOf(c(e,"type")))(e)||pt(e,t)()};const bt=["autocomplete","autofocus","disabled","name","readonly","required","willValidate","pattern"],ht=e=>"input-"+(e||L()),gt={selector:"input, textarea, select",onChange(e,t){const n=function(e){return e?function(t,n){const r=ot(n)||!1===n;e[r?"removeAttribute":"setAttribute"](t,r?void 0:n)}:()=>{}}(e),r=function(e){let t="string";if(e){const n=c(e,"tagName.toLowerCase()",""),r=c(e,"type");"input"==n&&("number"==r&&(t="number"),"checkbox"==r&&(t="bool")),"select"==n&&(t="any")}return t}(e);e.events={animationstart:W(e,"animationstart").subscribe(pt(e,t)),label:t.state.label.subscribe(t=>e.placeholder=t),id:t.state.id.subscribe(e=>n("id",ht(e))),focusIn:W(e,"focusin").subscribe(mt(e,t,!0)),focusOut:W(e,"focusout").subscribe(mt(e,t,!1)),value:t.state.value.subscribe(n=>{if(n!==dt(e)){const r=Math.random();ft(e,n),t.isempty=r,t.isvalid=r,t.count=c(n,"length",0)}ce(t,"valuechange",t)})};const o=(e=>-1!=["radio","checkbox"].indexOf(c(e,"type"))||"select"==c(e,"tagName.toLowerCase()"))(e)?"change":"input";e.events.input=W(e,o).subscribe(()=>{const n=dt(e);t.value!==n&&(t.value=n,t.count=c(n,"length",0),ce(t,"valuechange",t))}),t.state.isempty&&(e.events.isempty=t.state.isempty.subscribe(()=>requestAnimationFrame(mt(e,t,!0)))),t.state.error&&(e.events.error=t.state.error.subscribe(t=>e.setCustomValidity(t))),t.state.max&&(e.events.max=t.state.max.subscribe(e=>n("string"==r?"maxlength":"max",e))),t.state.min&&(e.events.min=t.state.min.subscribe(e=>n("string"==r?"minlength":"min",e))),bt.forEach(r=>{t.state[r]&&(e.events[r]=t.state[r].subscribe(e=>n(r,e)))})}},vt={selector:"label",onChange:(e,t)=>{e.events={error:t.state.error.subscribe(t=>e.setAttribute("error",t)),id:t.state.id.subscribe(t=>e.setAttribute("for",ht(t))),content:t.state.label.subscribe(n=>{e.innerHTML=n,t.classList[n?"remove":"add"]("no-label")})}}},yt={selector:".field-help-text",onChange:(e,t)=>e.events={content:t.state.helptext.subscribe(t=>e.innerHTML=t)}},xt={selector:".field-count-text",onChange:(e,t)=>{t.state.showcount&&(e.events={},e.events.showcount=t.state.showcount.subscribe(n=>{function r(){const n=c(t,"max")?c(t,"max")+"/":"",r=c(t,"count")||0;e.textContent=`(${n}${r})`}n||(c(e,"events.count()"),l(e,"events.count"),c(e,"events.max()"),l(e,"events.max")),n&&(t.state.count&&"function"!=typeof c(e,"events.count")&&p(e,"events.count",t.state.count.subscribe(r)),t.state.max&&"function"!=typeof c(e,"events.max")&&p(e,"events.max",t.state.count.subscribe(r)))}))}};function wt(){return{input:gt,label:vt,helpText:yt,count:xt}}function Ct(){return{blur:e=>()=>{c(e,"elements.input.blur()"),e.focused=!1},focus:e=>()=>{c(e,"elements.input.checkfocusValidity()"),e.focused=!0},checkValidity:e=>()=>c(e,"elements.input.checkValidity()"),reportValidity:e=>()=>c(e,"elements.input.reportValidity()")}}function jt(e){return W(e,"slotchanged").subscribe(t=>{const n=c(t,"detail.element"),r=n?"true":void 0;e[n?"setAttribute":"removeAttribute"]("hasicon",r)})}const kt=["text","email","tel"],Ot=wt(),At=Object.assign({type:{format:(e,t)=>G(Ye(kt),De(c(t,"value",kt[0])))(e),onChange(e,t){const n=t.elements.input;n&&n.setAttribute("type",e)}}},lt(),ut()),Et={tag:"field-text",template:n(0),elements:Ot,properties:At,methods:Ct(),slots:{icon:{target:".icon-container"}},onConnected(e){e.events={slotChanged:jt(e)}}};me(Et);var Tt=Et;const Lt={tag:"new-project-overlay",template:n(1),properties:{shown:{nextOnNew:!0,format:G(et,De(!1))}},elements:{root:{selector:".new-project-overlay-container",onChange(e,t){e.overlay=Xe(t,e,{scrim:!0,widthbasis:"page"}),requestAnimationFrame(()=>t.setAttribute("ready","true")),e.events={shown:t.state.shown.subscribe(t=>e.overlay[t?"show":"hide"]())}}},name:{selector:"#new-project-name"},form:{selector:"#new-project-form",onChange(e,t){const n=W(e,"submit",{preventDefault:!0}),r=t;n&&(e.events={submit:n.subscribe(()=>{const e=r.elements.name;Ee.newProject(e.value),e.value="",r.shown=!1})})}},newProjectCancel:{selector:"#new-project-cancel",onChange(e,t){const n=t,r=W(e,"click");r&&(e.events={click:r.subscribe(()=>n.shown=!1)})}}}};me(Lt);const Dt={tag:"projects-list",template:n(2),elements:{itemsContainer:{selector:".projects-list-items",onChange(e){e.events={list:Ee.subscribeToList(t=>{d(e.children||[]).forEach(f),t.forEach(t=>{const n=G(Le,De(Le(new Date)))(t.updated),r=document.createElement("a");r.className="flex-between-center project-link",r.href="javascript:void(0)",r.innerHTML=`<span class="mright-1">${t.name}</span><span class="translucent">${n.monthDouble}/${n.dayDouble}/${n.yearShort}</span>`,r.setAttribute("project-id",t.id),e.appendChild(r);const o=W(r,"click");o&&(r.events={click:o.subscribe(()=>Ee.current=t.id)})})}),current:Ee.subscribeToCurrent(t=>d(e.querySelectorAll(".project-link")).forEach(e=>e.classList[e.getAttribute("project-id")===t.id?"add":"remove"]("active-bg")))}}},overlay:{selector:"new-project-overlay"},newProjectBtn:{selector:".new-project-btn",onChange(e,t){const n=W(e,"click");n&&(e.events={click:n.subscribe(()=>t.elements.overlay.setAttribute("shown",!0))})}}}};me(Dt);const St={tag:"flash-message",template:n(3),slots:{header:{target:".flash-message-header"},body:{target:".flash-message-body"},footer:{target:".flash-message-footer"}},elements:{root:{selector:".flash-message-container",onChange:(e,t)=>e.events={type:t.state.type.subscribe(t=>e.setAttribute("type",t))}}},properties:{shown:{format:G(et,De(!1))},type:{format:G(tt,Ye(["danger","warning","success","info"]),De("info"))}},onConnected(e){e.overlay=Xe(document.body,e,{scrim:!0,widthbasis:"page"}),e.events={shown:e.state.shown.subscribe(t=>e.overlay[t?"show":"hide"]())}}};me(St);var Nt=St;const Pt={tag:"project-settings",template:n(4),elements:{flashMessage:{selector:"flash-message"},form:{selector:"form",onChange(e,t){const n=W(e,"submit",{preventDefault:!0}),r=t.elements.name;n&&(e.events={submit:n.subscribe(()=>{Ee.saveProject({name:r.value,id:c(Ee,"current.id")})})})}},name:{selector:'field-text[name="project-name"]',onChange(e){e.events={current:Ee.subscribeToCurrent(t=>e.value=c(t,"name"))}}},deleteBtn:{selector:".delete-btn",onChange(e,t){const n=W(e,"click");n&&(e.events={click:n.subscribe(()=>t.elements.flashMessage.shown=!0)})}},deleteConfirmBtn:{selector:".delete-confirmed-btn",onChange(e,t){const n=W(e,"click");n&&(e.events={click:n.subscribe(()=>{Ee.deleteProject(c(Ee,"current.id")).then(()=>t.elements.flashMessage.shown=!1)})})}},cancelBtn:{selector:".delete-cancel-btn",onChange(e,t){const n=W(e,"click");n&&(e.events={click:n.subscribe(()=>t.elements.flashMessage.shown=!1)})}},deleteMsg:{selector:'[slot-ref="body"]',onChange:e=>e.events={project:Ee.subscribeToCurrent(t=>e.textContent=`Are you want to delete ${t.name}?`)}}}};me(Pt);const Mt=z(void 0,{nextOnNew:!0}),It=[Tt,Nt],$t={get current(){return Mt.value},set current(e){Mt.next(e)},subscribeToCurrent:Mt.subscribe,defaultComponents:It};$t.current=It[0];var qt=$t;const Ft=["none","horizontal","vertical","both"],_t=wt(),Bt=Object.assign({resize:{format:G(tt,Ye(Ft),De(Ft[0])),reflect:!0}},lt(),ut()),Vt={tag:"field-textarea",template:n(5),elements:_t,properties:Bt,methods:Ct(),slots:{icon:{target:".icon-container"}},onConnected(e){e.events={slotChanged:jt(e)}}};me(Vt);const Ht={tag:"component-settings",template:n(6),elements:{tagInput:{selector:'field-text[name="tag"]',onChange:e=>e.events={component:qt.subscribeToCurrent(t=>e.value=t.tag)}},template:{selector:'field-textarea[name="template"]',onChange:e=>e.events={component:qt.subscribeToCurrent(t=>e.value=t.template)}}}};me(Ht);const Rt=z({},{nextOnNew:!0}),zt=z([],{nextOnNew:!0});var Wt={get:()=>zt.value,get current(){return Rt.value},set current(e){Rt.next(e)},subscribeToCurrent:Rt.subscribe,get list(){return zt.value},set list(e){zt.next(e)},subscribeToList:zt.subscribe,newService(e){zt.insert(e)}};const Ut={tag:"field-button",template:n(7),properties:{type:{format:G(tt,De(""))},disabled:{format:G(et,De(!1)),reflect:!0},spinner:{format:G(et,De(!1)),reflect:!0},theme:{format:G(tt,Ye(["danger","warning","secondary"]),De("")),reflect:!0},size:{format:G(tt,Ye(["big","small"]),De("")),reflect:!0},kind:{format:G(tt,Ye(["link"]),De("")),reflect:!0}},slots:{content:{target:".field-button-container > button"}},elements:{button:{selector:"button",onChange(e,t){e.events={type:t.state.type.subscribe(t=>e[t?"setAttribute":"removeAttribute"]("type",t||void 0)),disabled:t.state.disabled.subscribe(t=>e[t?"setAttribute":"removeAttribute"]("disabled",!!t||void 0))}}}}};me(Ut);const Yt=Ct(),Jt=wt(),Zt=Object.assign({},lt(),{mixed:{format:G(et,De(!1)),reflect:!0}}),Qt={tag:"field-checkbox",template:n(8),elements:Jt,properties:Zt,methods:Yt};me(Qt);function Xt(e){return g(()=>x(decodeURIComponent(e),!0))||x(e,!1)}function Gt(e){return t=G(tt,Xt,w)(e),x(t,"string"==typeof t);var t}function Kt(e){if(!e)return x(e,!1);if(Array.isArray(e))return x(e,!0);const t=G(Gt,be)(e);return Array.isArray(t)?x(t,!0):g(()=>{const t=d(e);x(t,Array.isArray(t))})||x(e,!1)}function en(e){return x(e,Array.isArray(e))}function tn(e){return g(()=>e.split(",").map(e=>e.trim()))||e}function nn(e){return Array.isArray(e)?x(e,!0):G(tn,en)(e)}function rn(e,t={textContent:"textContent",value:"value"}){if(!Array.isArray(e))return x(e,!1);const n=e.map(e=>{if("string"==typeof e)return{textContent:e,value:e};if(N(e)){const n={};return Object.keys(e).forEach(r=>g(n[t[r]||r]=e[r].toString())),n}}).filter(e=>!!e);return x(n,!0)}const on=Object.assign({},wt(),{select:{selector:"select",onChange(e,t){e.events=e.events||{},e.events.selectOptions=t.state.options.subscribe(n=>{ie(e),n.forEach(t=>{const n=m({tag:"option",properties:t});n&&e.appendChild(n)}),ft(e,t.value)})}}}),sn=Object.assign({},lt(),{options:{format:G(Kt,nn,rn,De([])),onChange(e,t){const n=c(t,"value");p(t,"value",n||c(e,"0.value",""))}}}),an={tag:"field-select",template:n(9),elements:on,properties:sn,methods:Ct(),slots:{icon:{target:".icon-container"}},onConnected(e){e.events={slotChanged:jt(e)}}};me(an);function cn(e){return c(e,"path.0",c(e,"composedPath().0",c(e,"originalTarget",c(e,"explicitOriginalTarget",c(e,"target")))))}function ln(e,t){if(!e)return!1;const n=cn(t);if(!n)return;const r=d(e).map(e=>!!function(e){const t=e===n,r=n instanceof Node&&e.contains(n);return!(!t&&!r)}(e)&&e).filter(e=>!!e);return r?r.length&&1==r.length?r[0]:r:void 0}const un=["left","right"],dn={tag:"drop-down",template:n(10),properties:{align:{format:G(tt,Ye(un),De(un[0])),reflect:!0}},slots:{item:{target:".drop-down-items",multiple:!0},label:{target:".drop-down-label"}},elements:{itemsContainer:{selector:".drop-down-items",onChange:(e,t)=>e.events={click:W(e,"click").subscribe(n=>{const r=ln(e.children,n);r&&ce(t,"itemclicked",r)})}}}};me(dn);const{helpText:fn,count:pn}=wt(),mn={tag:"field-multiselect",template:n(11),properties:{label:{format:G(tt,De(""),e=>j(e).sanitized)},value:{format:G(nn,Kt,De([]))},options:{format:G(Kt,nn,rn)},count:{format:(e,t)=>t.value.length},showcount:{format:G(et,De(!1))},helptext:{format:G(tt,De(""),e=>j(e).sanitized)}},elements:{dropdown:{selector:".field-multiselect-dropdown",onChange(e,t){e.events={options:t.state.options.subscribe(t=>{d(e.querySelectorAll('[slot-ref="item"]')).forEach(f);const n=t.length;let r=0;for(;r<n;){const n=document.createElement("field-checkbox");n.setAttribute("name",t[r].value),n.setAttribute("slot-ref","item"),n.setAttribute("label",t[r].textContent),e.appendChild(n),r+=1}}),label:t.state.label.subscribe(t=>{d(e.querySelectorAll('[slot-ref="label"]')).forEach(f);const n=document.createElement("field-checkbox");n.setAttribute("label",t),n.setAttribute("slot-ref","label"),e.appendChild(n)})}}},helpText:fn,count:pn},onConnected(e){e.events=e.events||{},e.events.updateInputs=W(e,"change",{takeLast:!0}).subscribe(t=>{const n={options:c(e,"options",[]).map(e=>e.value),currentValue:c(e,"value"),optionElements:d(e.querySelectorAll('field-checkbox[slot-ref="item"] input')),labelElement:e.querySelector('field-checkbox[slot-ref="label"]')},r=cn(t),o=dt(r);if(n.labelElement.contains(r))n.optionElements.forEach(e=>ft(e,o)),e.value=o?n.options:[],n.labelElement.mixed=!1;else{const t=n.optionElements.filter(dt).map(e=>e.name);n.labelElement.value=t.length>0,n.labelElement.mixed=t.length!==n.options.length,e.value=t}e.count=Math.random()})}};me(mn);const bn=wt(),hn=Object.assign({step:{format:G(Je,De(0)),onChange(e,t){const n=t.elements.input;n&&n[e?"setAttribute":"removeAttribute"]("step",e||void 0)}}},lt(),ut()),gn={tag:"field-number",template:n(12),elements:bn,properties:hn,methods:Ct(),slots:{icon:{target:".icon-container"}},onConnected(e){e.events={slotChanged:jt(e)}}};me(gn);const vn=Object.assign({},lt(),{options:{format:G(Kt,nn,rn,De([])),onChange(e,t){const n=c(t,"value");p(t,"value",n||c(e,"0.value",""))}}}),yn={tag:"field-radio",template:n(13),elements:{helptext:yt,input:{selector:'input[type="radio"]'},mainLabel:{selector:".field-radio-main-label",onChange:(e,t)=>{e.events={error:t.state.error.subscribe(t=>e.setAttribute("error",t)),id:t.state.id.subscribe(t=>e.setAttribute("for",ht(t))),content:t.state.label.subscribe(n=>{e.innerHTML=n,t.classList[n?"remove":"add"]("no-label")})}}},inputsContainer:{selector:".field-radio-inputs",onChange(e,t){e.events={options:t.state.options.subscribe(n=>{ie(e),n.forEach(n=>{const r=L();e.appendChild(m({tag:"div",attributes:{class:"field-radio-option-container"},children:[m({tag:"input",attributes:{class:"field-radio-option",type:"radio",id:ht(r),name:t.name||ht(t.componentId),value:n.value}}),m({tag:"label",attributes:{class:"field-radio-option-label",for:ht(r)},properties:{innerHTML:j(n.textContent).sanitized}})]}))})})}}}},properties:vn,methods:Ct(),slots:{icon:{target:".icon-container"}},onConnected(e){e.events={slotChanged:jt(e)}}};me(yn);const xn=e=>("00"+e).slice(-2),wn=e=>(e||"").toString().split(":").map(e=>parseInt(e)).filter(e=>!isNaN(e)),Cn=(e,t,n,r)=>{if("seconds"==n&&!t.showseconds)return"00";const o=parseInt(e),s=parseInt(c(t,`state.${n}.previous`)),a=new Date;return isNaN(o)?isNaN(s)?a[r]():s:o},jn={helptext:yt,hourInput:{selector:".field-time-hour-input"},minuteInput:{selector:".field-time-minutes-input"},secondInput:{selector:".field-time-seconds-input"},meridienInput:{selector:".field-time-meridien-input"},label:{selector:".field-time-label",onChange(e,t){e.events={label:t.state.label.subscribe(t=>e.innerHTML=t),error:t.state.error.subscribe(t=>e.setAttribute("error",t)),required:t.state.required.subscribe(t=>e.classList[t?"add":"remove"]("label-required"))}}}},kn=(e=(()=>{}))=>({format:t=>((e,t)=>{const n=wn(e);return n.length>1?n.map(xn).join(":"):t})(t,e())}),On=Object.assign({},lt(),{max:kn(()=>"24:60:60"),min:kn(()=>"1:00:00"),hour:{format:(e,t)=>Cn(e,t,"hour","getHours")},minute:{format:(e,t)=>Cn(e,t,"minute","getMinutes")},second:{format:(e,t)=>Cn(e,t,"second","getSeconds")},showseconds:{format:G(et,De(!1))},value:kn(()=>`${xn((new Date).getHours())}:${xn((new Date).getMinutes())}:${xn((new Date).getSeconds())}`),label:ct}),An={tag:"field-time",template:n(14),elements:jn,properties:On,methods:Ct(),slots:{icon:{target:".icon-container"}},onConnected(e){e.events=e.events||{},e.events.slotChanged=jt(e);const t=()=>`Must be between ${e.min} and ${e.max}`,n=e=>3600*(e[0]||0)+60*(e[1]||0)+(e[2]||0),r=(e,t,n)=>(e=>{const t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return[t,n,e-(3600*t+60*n)]})(e<n?e:t>n?t:n).map(xn).join(":"),o=(t,o)=>{const s=parseInt(t),a=wn(e.value);return r(n(wn(e.max)),n(wn(e.min)),n(a.map((e,t)=>o===t?0==o&&a[0]>12&&s<12?s+12:s:e)))},s=()=>r(n(wn(e.max)),n(wn(e.min)),n(wn(e.value))),a=(n,r)=>{const s=parseInt(n.textContent),a=o(s,r),i=wn(a);let c=!1;i[r]!==s&&(n.textContent=xn(i[r]),c=!0),e.value=a,c&&(e.error=t())};requestAnimationFrame(()=>{const n=e.elements.hourInput,r=e.elements.minuteInput,i=e.elements.secondInput,c=e.elements.meridienInput;e.events.hourInput=e.events.hourInput||W(n,"blur").subscribe(()=>a(n,0)),e.events.minuteInput=e.events.minuteInput||W(r,"blur").subscribe(()=>a(r,1)),e.events.secondInput=e.events.secondInput||W(i,"blur").subscribe(()=>a(i,2)),e.events.meridienInput=e.events.meridienInput||W(c,"valuechange").subscribe(()=>{const n=wn(e.value),r=n[0]>12,s=c.value,a=r&&"AM"==s?-12:r||"PM"!=s?0:12,i=n[0]+a,l=o(i,0),u=wn(l)[0];let d=!1;u!==i&&(c.value=u>12?"PM":"AM",d=!0),e.value=l,d&&(e.error=t())}),e.events.hour=e.state.hour.subscribe(t=>e.value=o(t,0)),e.events.minute=e.state.minute.subscribe(t=>e.value=o(t,1)),e.events.second=e.state.second.subscribe(t=>e.value=o(t,2)),e.events.max=e.state.max.subscribe(s),e.events.min=e.state.max.subscribe(s),e.events.showseconds=e.state.showseconds.subscribe(t=>{i.classList[t?"remove":"add"]("hide"),e.querySelector(".field-time-seconds-divider").classList[t?"remove":"add"]("hide")}),e.events.keyup=W(e,"keyup").subscribe(e=>{const t=e.key.toLowerCase();if("arrowup"!==t&&"arrowdown"!==t)return;const n=cn(e);n&&n.getAttribute("contenteditable")&&(n.textContent=xn(parseInt(n.textContent||"")+("arrowdown"==t?-1:1)),function(e,t){const n=document.createRange(),r=window.getSelection();r&&(n.setStart(e,t),n.collapse(!0),r.removeAllRanges(),r.addRange(n))}(n,1))}),e.events.value=e.state.value.subscribe(t=>{const o=wn(t);n.textContent=xn(o[0]>12?o[0]-12:o[0]),r.textContent=xn(o[1]),i.textContent=xn(o[2]),c.value=o[0]>12?"PM":"AM",e.hour=o[0],e.minute=o[1],e.second=o[2],e.error=""})})}};me(An);const En=e=>{const t=Object.assign({},{"X-Requested-With":"XMLHttpRequest"},e.headers||{});return e.form?t["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8":t["Content-Type"]="application/json;charset=UTF-8",t},Tn=e=>(e=>e instanceof FormData)(e)||"string"==typeof e||void 0===e?e:G(he,De(null))(e);var Ln=async function(e="/",t={}){return function(e){return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open(e.method,e.url,!0);const o=()=>{const e=g(()=>JSON.parse(r.responseText))||r.responseText;return 200!==r.status?n(e):t(e)};Object.keys(e.headers).forEach(t=>r.setRequestHeader(t,e.headers[t])),r.withCredentials=e.credentials,r.onload=o,r.onerror=o,r.send(e.data)})}({data:Tn(t.data),headers:En(t),method:t.method||"GET",credentials:G(et,De(!1))(t.withCredentials),url:"http://localhost:4915"+e})};const Dn={tag:"editor-function",template:n(15),properties:{fn:{format:G(tt,De("")),onChange(e,t){e&&Ln("/ast?fn="+encodeURIComponent(e)).then(e=>{t.ast=c(e,"result.program.body.0")}).catch(console.error)}},ast:{format:G((function(e){if("string"==typeof e){const t=be(e);if(y(t)&&N(t))return t}return x(e,N(e))}),De({}))}},elements:{name:{selector:'field-text[name="name"]',onChange(e,t){e.events={name:t.state.ast.subscribe(t=>{e.value=c(t,"id.name")})}}},addArgumentBtn:{selector:".add-argument-btn"}}};me(Dn);const Sn=(e,t)=>(n,r)=>{const o=parseInt(n),s=parseInt(c(r,`state.${e}.previous`)),a=new Date;return isNaN(o)?isNaN(s)?a[t]():s:o},Nn={tag:"calendar-day",template:n(16),properties:{active:{format:G(et,De(!1))},disabled:{format:G(et,De(!1))},clickable:{format:G(et,De(!0))},date:{format:G(Te,De((Pn=new Date,new Date(`${Pn.getMonth()+1}/${Pn.getDate()}/${Pn.getFullYear()}`))))},day:{format:Sn("day","getDate")},month:{format:Sn("month","getMonth")},year:{format:Sn("monyearth","getFullYear")}},elements:{root:{selector:".calendar-day-root"},number:{selector:".calendar-day-number"}},onConnected(e){const t=e.elements.number;e.events={},e.events.date=e.state.date.subscribe(n=>{e.day=t.textContent=n.getDate(),e.month=n.getMonth(),e.year=n.getFullYear()}),e.events.day=e.state.day.subscribe(t=>e.date=`${e.month+1}/${t}/${e.year}`),e.events.month=e.state.month.subscribe(t=>e.date=`${t+1}/${e.day}/${e.year}`),e.events.year=e.state.year.subscribe(t=>e.date=`${e.month+1}/${e.day}/${t}`),e.events.active=e.state.active.subscribe(t=>e.elements.root.classList[t?"add":"remove"]("calendar-day-active")),e.events.disabled=e.state.disabled.subscribe(t=>e.elements.root.classList[t?"add":"remove"]("calendar-day-disabled")),e.events.clickable=e.state.clickable.subscribe(t=>e.elements.root.classList[t?"add":"remove"]("calendar-day-clickable"))}};var Pn;me(Nn);const Mn=(e,t)=>(n,r)=>{const o=parseInt(n),s=parseInt(c(r,`state.${e}.previous`)),a=new Date;return isNaN(o)?isNaN(s)?a[t]():s:o},In={tag:"calendar-month",template:n(17),properties:{clickable:{format:G(et,De(!0))},date:{format:G(Te,De(new Date))},day:{format:Mn("day","getDate")},month:{format:Mn("month","getMonth")},year:{format:Mn("monyearth","getFullYear")}},elements:{root:{selector:".calendar-month-root"},daysContainer:{selector:".calendar-month-days"}},onConnected(e){const t=I(()=>{const t=new Date(e.year,e.month+1,0).getDate(),n=t<e.day?t:e.day;e.date=new Date(e.year,e.month,n)},111),n=()=>{const t=e.elements.daysContainer;t.classList.add("calendar-month-days-updating"),ie(t);const n=e.date.getFullYear(),r=e.date.getMonth(),o=new Date(n,r+1,0),s=o.getDate(),a=new Date(n,r,1);let i=a.getDay();a.setDate(0);let c=a.getDate();for(;i--;)t.appendChild(m({tag:"calendar-day",properties:{date:new Date(n,r,c-i),disabled:!0}}));let l=s;for(;l--;)t.appendChild(m({tag:"calendar-day",properties:{date:new Date(n,r,s-l),clickable:e.clickable}}));let u=o.getDay(),d=1;for(;u<6;)t.appendChild(m({tag:"calendar-day",properties:{date:new Date(n,r,d),disabled:!0}})),u+=1,d+=1;t.classList.remove("calendar-month-days-updating")};e.events={date:e.state.date.subscribe(t=>{e.day=t.getDate(),e.month=t.getMonth(),e.year=t.getFullYear(),n()}),day:e.state.day.subscribe(n=>e.date.getDate()===n?void 0:t()),month:e.state.month.subscribe(n=>e.date.getMonth()===n?void 0:t()),year:e.state.year.subscribe(n=>e.date.getFullYear()===n?void 0:t()),clickable:e.state.clickable.subscribe(n)}}};me(In);const $n={tag:"service-settings",template:n(18),elements:{name:{selector:'field-text[name="name"]',onChange:e=>e.events={service:Wt.subscribeToCurrent(t=>e.value=t.name)}},btnAddPublicMethod:{selector:"#add-service-public-method",onChange(e,t){e.events={click:W(e,"click").subscribe(()=>ce(t,"newmethod"))}}},functionEditor:{selector:"editor-function",onChange(e,t){e.overlay=Xe(document.body,e,{scrim:!0,widthbasis:"page"}),e.events={newProperty:W(t,"newmethod").subscribe(()=>{e.fn="function sayHi(nameOfPerson:string, num:number){return `Hi ${name}! It's ${num} o'clock`}",e.overlay.show()})}}}}};me($n);const qn={tag:"services-list",template:n(19),elements:{itemsContainer:{selector:".services-list-items",onChange(e){e.events={list:Wt.subscribeToList(t=>{ie(e),t.forEach(t=>{const n=G(Le,De(Le(new Date)))(t.updated),r=document.createElement("a");r.className="flex-between-center service-link",r.href="javascript:void(0)",r.innerHTML=`<span class="mright-1">${t.name}</span><span class="translucent">${n.monthDouble}/${n.dayDouble}/${n.yearShort}</span>`,r.setAttribute("service-id",t.id),e.appendChild(r);const o=W(r,"click");o&&(r.events={click:o.subscribe(()=>Wt.current=t.id)})})}),current:Wt.subscribeToCurrent(t=>d(e.querySelectorAll(".service-link")).forEach(e=>e.classList[e.getAttribute("service-id")===t.id?"add":"remove"]("active-bg")))}}},newServiceBtn:{selector:".new-service-btn",onChange(e){const t=W(e,"click");t&&(e.events={click:t.subscribe(()=>Wt.current={})})}}}};me(qn);const Fn={tag:"pages-list",template:n(20),elements:{root:{selector:".pages-list-container"},day:{selector:"calendar-day"}},properties:{clickable:{format:G(et,De(!0))}},onConnected(e){requestAnimationFrame(()=>{e.events={clickable:e.state.clickable.subscribe(t=>{const n=e.elements.day,r=e.elements.root;console.log(t,r,n)})}})}};me(Fn);function _n(e){e&&(e.content&&Object.keys(e.content).forEach(t=>{const n=document.getElementById(t);n&&(d(n.children).forEach(f),e.content&&e.content[t].forEach(e=>{const t=m(e);t&&n.appendChild(t)}))}),d(document.body.querySelectorAll("#top-section a")).forEach(t=>t.classList[e.path==t.pathname.slice(1)?"add":"remove"]("active")))}var Bn=function(){const e={router:K(r)};return e.router.subscribeToRoute(_n),{services:e}};ee().then(()=>Bn())}]);