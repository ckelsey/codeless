!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){e.exports='<div class="field-text-container field-element-container"> <input placeholder="" value=""> <label></label> <span class="icon-container"></span> <span class="flex-between-center"> <span class="field-help-text"></span> <span class="field-count-text"></span> </span> </div>'},function(e,t){e.exports='<div class="new-project-overlay-container"> <div class="new-project-overlay-inner"> <h2 class="mtop-0">New Project</h2> <form id="new-project-form"> <div class="form-row"> <field-text label="Name" id="new-project-name" name="new-project-name"></field-text> </div> <div class="form-row"> <button id="new-project-save" class="btn">Create</button> <a class="btn-link" id="new-project-cancel">Cancel</a> </div> </form> </div> </div>'},function(e,t){e.exports='<div class="projects-list-container"> <button class="new-project-btn btn">New project</button> <div class="projects-list-items"></div> <new-project-overlay></new-project-overlay> </div>'},function(e,t){e.exports='<div class="flash-message-container"> <div class="flash-message-header"></div> <div class="flash-message-body"></div> <div class="flash-message-footer"></div> </div>'},function(e,t){e.exports='<div class="project-settings-container"> <h3>Project settings</h3> <form> <field-text name="project-name" label="Name"></field-text> <div class="form-row"> <button class="btn">Update</button> <a class="btn btn-danger delete-btn">Delete</a> </div> </form> <flash-message> <div slot-ref="body">Are you sure you want to delete this project?</div> <div slot-ref="footer"> <div class="form-row"> <button class="btn btn-danger delete-confirmed-btn">Delete</button> <a class="btn-link delete-cancel-btn" href="javascript:void(0)">Cancel</a> </div> </div> </flash-message> </div>'},function(e,t){e.exports='<div class="field-textarea-container field-element-container"> <textarea placeholder="" value=""></textarea> <label></label> <span class="icon-container"></span> <span class="flex-between-center"> <span class="field-help-text"></span> <span class="field-count-text"></span> </span> </div>'},function(e,t){e.exports='<div class="component-settings-container"> <field-text name="tag" label="Tag"></field-text> <field-textarea name="template" label="Template"></field-textarea> <h3 class="mbottom-0">Properties</h3> <h3 class="mbottom-0">Elements</h3> <h3 class="mbottom-0">Methods</h3> <h3 class="mbottom-0">Slots</h3> <h3 class="mbottom-0">onConnected(host)</h3> <field-textarea name="onDisconnected" label="Function body"></field-textarea> <h3 class="mbottom-0">onDisconnected(host)</h3> <field-textarea name="onDisconnected" label="Function body"></field-textarea> </div>'},function(e,t){e.exports='<div class="field-button-container"> <button></button> </div>'},function(e,t){e.exports='<div class="field-checkbox-container field-element-container"> <input placeholder="" value="" type="checkbox"> <label></label> <span class="field-help-text"></span> </div>'},function(e,t){e.exports='<div class="field-select-container field-element-container"> <select placeholder="" value=""></select> <label></label> <span class="icon-container"></span> <span class="flex-between-center"> <span class="field-help-text"></span> <span class="field-count-text"></span> </span> </div>'},function(e,t){e.exports='<div class="drop-down-container"> <div class="drop-down-label-container"> <div class="drop-down-label"></div> <div class="drop-down-arrow"></div> </div> <div class="drop-down-items"></div> </div>'},function(e,t){e.exports='<div class="field-multiselect-container field-element-container"> <drop-down class="field-multiselect-dropdown"> <div class="field-multiselect-label" slot-ref="label"></div> </drop-down> </div>'},function(e,t){e.exports='<div class="editor-function-container"> <field-text name="name" label="Name"></field-text> <h3>Arguments <button class="add-argument-btn">+</button></h3> <div class="arguments-container"></div> <h3>Body <button class="add-statement-btn">+</button></h3> <div class="body-container"></div> </div>'},function(e,t){e.exports='<div class="service-settings-container"> <form class="a-form"> <field-multiselect label="Oh yea multiselecting" options="Jesse, James, Jerome"></field-multiselect> <div style="display:flex;align-items:center"> <field-text name="name" max="5" label="Name" helptext="The name of the service" required="true" labelalign="top"> <span slot-ref="icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1024px" height="1024px" viewBox="0 0 1024 1024" version="1.1"> <title>code-open</title> <desc>Created with Sketch.</desc> <defs/> <g id="小站" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.779734142"> <g id="code-open" fill="#000000"> <path d="M1018.64495,531.297637 C1027.27952,512.687401 1023.24618,489.87879 1007.20328,475.433694 L802.095304,290.753647 C782.394782,273.015217 752.044514,274.605807 734.306083,294.306329 C716.567653,314.006852 718.158243,344.35712 737.858766,362.09555 L904.138417,511.81442 L736.858766,662.433694 C717.158243,680.172125 715.567653,710.522392 733.306083,730.222915 C751.044514,749.923438 781.394782,751.514028 801.095304,733.775598 L1006.20328,549.09555 C1011.84552,544.015251 1016.00229,537.90046 1018.64495,531.297643 Z M119.947,511.390231 L286.22665,361.671361 C305.927173,343.932931 307.517763,313.582663 289.779333,293.88214 C272.040903,274.181618 241.690635,272.591027 221.990112,290.329458 L16.8821402,475.009505 C0.839236202,489.454601 -3.19410198,512.263212 5.44046645,530.873448 C8.08312579,537.476271 12.2398959,543.591061 17.8821402,548.671361 L222.990112,733.351408 C242.690635,751.089839 273.040903,749.499248 290.779333,729.798726 C308.517763,710.098203 306.927173,679.747935 287.22665,662.009505 L119.947,511.390231 Z M649.492098,134.243566 C674.403037,143.310407 687.247217,170.85484 678.180377,195.765779 L436.030115,861.068155 C426.963275,885.979094 399.418842,898.823274 374.507902,889.756434 C349.596963,880.689593 336.752783,853.14516 345.819623,828.234221 L587.969885,162.931845 L587.969885,162.931845 C597.036725,138.020906 624.581158,125.176726 649.492098,134.243566 Z" id="Combined-Shape"/> </g> </g> </svg></span> </field-text> <field-button><span slot-ref="content">Click me</span></field-button> </div> <field-textarea label="textarea" showcount="true" max="20" helptext="Text abound?" required="true"></field-textarea> <h3> <span>Private properties </span> <field-button id="add-service-private-property" size="small"><span slot-ref="content">+</span></field-button> </h3> <h3> <span>Public properties </span> <field-button id="add-service-public-property" size="small"><span slot-ref="content">+</span></field-button> </h3> <h3> <span>Methods </span> <field-button id="add-service-public-method" size="small"><span slot-ref="content">+</span></field-button> </h3> <field-checkbox label="A cool Checkbox"></field-checkbox> <field-checkbox label="Another cool Checkbox"></field-checkbox> <field-select label="Totes cool select" options=", 1, false, Carl, Peter, John"></field-select> <editor-function></editor-function> <drop-down> <div slot-ref="label">Hi</div> <div slot-ref="item">Item 1</div> <div slot-ref="item">Item 2</div> <div slot-ref="item">Item 3</div> <div slot-ref="item">Item 4</div> <div slot-ref="item">Item 5</div> </drop-down> </form> </div>'},function(e,t){e.exports='<div class="services-list-container"> <button class="new-service-btn btn">New service</button> <div class="services-list-items"></div> </div>'},function(e,t,n){"use strict";n.r(t);var o={home:{path:"",title:"Projects",redirect:"projects"},projects:{path:"projects",title:"Projects",content:{"left-section":[{tag:"projects-list"}],"right-section":[{tag:"project-settings"}]}},pages:{path:"pages",title:"Pages",content:{"left-section":[],"right-section":[]}},components:{path:"components",title:"Components",content:{"left-section":[],"right-section":[{tag:"component-settings"}]}},services:{path:"services",title:"Services",content:{"left-section":[{tag:"services-list"}],"right-section":[{tag:"service-settings"}]}}};function r(e){const t=parseFloat(e);return isNaN(e)?t:e.trim()}function s(e){return null==e}function i(e){return e}function a(e=""){const t=/\((.*?)\)/g.exec(e||"");return t?t[1]:""}function c(e,t,n,o=i){if(!e)return o(n);const c=t.split(".");let l=e;const u=c.length;let d=c.length;for(;d;){if(s(l)){l=n;break}const e=u-d,t=/\(/.exec(c[e]);if(t){const n=l[c[e].slice(0,t.index)];if("function"==typeof n){l=n.apply(l,a(c[e]).split(",").map(r)),d-=1;continue}}l=l[c[e]],d-=1}return s(l)&&(l=n),o(l)}function l(e,t){if(!e)return e;const n=t.split(".");let o=e;const r=n.length;let i=n.length;for(;i&&!s(o);){if(1==i){delete o[n[r-i]];break}o=o[n[r-i]],i-=1}return e}function u(e){const t=c(e,"events",{}),n=c(e,"nodeObserver");if(e){for(let n in t)"function"==typeof t[n]&&(t[n](),l(e,"events."+n));return n&&n.disconnect(),l(e,"events")}}function d(e){if(Array.isArray(e))return e.slice();const t=[];if(e&&e.length){const n=e.length;let o=0;for(;o<n;)t.push(e[o]),o+=1}return t}function f(e){if(!e)return e;d(e.children||[]).forEach(f),u(e),e.parentElement&&e.parentElement.removeChild(e)}function p(e,t,n){const o=t?t.split("."):[];return o.reduce((function(e,t){return e||(e={}),e[t]||(e[t]={}),t?(t===o[o.length-1]&&(e[t]=n),e[t]):(e[t]=null,e)}),e),e}function m({tag:e="",properties:t={},evaluatedProperties:n={},attributes:o={},subscriptions:r={}}){if(!e)return;const s=document.createElement(e);return p(s,"subscriptions",{}),Object.keys(t).forEach(e=>p(s,e,t[e])),Object.keys(n).forEach(e=>p(s,e,n[e]())),Object.keys(o).forEach(e=>s.setAttribute(e,o[e])),Object.keys(r).forEach(e=>p(s,"subscriptions."+e,r[e](s))),s}function h(e){return!e||"function"!=typeof e.split||""===e}var g=function(e=location.search||""){const t={};let n=e.slice();if(h(n))return t;const o=n.indexOf("?")>-1?n.split("?")[1]:n;return h(o)||o.split("&").forEach((function(e){e&&"function"==typeof e.split&&(t[e.split("=")[0]]=e.split("=")[1])})),t};function b(e,t=(()=>{})){try{return e()}catch(n){try{return e.apply(null)}catch(e){return"function"!=typeof t?t:t()}}}const v=Symbol("__valid"),y=e=>{if(null!=e){try{return void 0===e.constructor.prototype||void 0===e.constructor.prototype[v]||!0===e.constructor.prototype[v]}catch(e){}return!1}};var x=(e,t)=>{if(null!=e){try{e.constructor.prototype[v]=!0===t}catch(e){}return e}};function w(e){return"string"==typeof e?x(e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;|&#8220;|&#8221;|&ldquo;|&rdquo;/g,'"').replace(/&apos;|&lsquo;|&rsquo;|&#8216;/g,"'"),!0):x(e,!1)}function j(e,t=document.body){return d(c(t,`querySelectorAll(${e})`))}function C(e,t=[],n=[]){const o=e,r=b(()=>w(e.toString()),"");if(!r||!r.length)return{original:o,valid:!1,sanitized:r,reason:["no value"]};const s=b(()=>(new DOMParser).parseFromString(r,"text/html"));if(!s)return{original:o,valid:!0,sanitized:r,reason:["no html present"]};const i=j("*",s),a=[];let c=[];c=t.length?t.slice(0):O.concat(k),n.length&&n.forEach((function(e){const t=c.indexOf(e);t>-1&&c.splice(t,1)})),n.length||t.length||(c=O.concat(k)),c.forEach((function(e){const t=j(e,s);let n=t.length;for(;n--;)a.push(t[n])})),a.forEach((function(e){const t=e.parentNode;if(e&&t){const n=e.children.length;let o=0;for(;o<n;)"function"==typeof t.insertBefore&&t.insertBefore(e.children[o],e),o+=1;t.removeChild(e)}}));const l=j("*",s),u=i.length-l.length,d=0===u;return{original:o,valid:d,sanitized:d?r:s.body.innerHTML&&s.body.innerHTML.length?s.body.innerHTML:"",reason:d?[]:[`${u} element${u>1?"s were":"was"} removed`]}}const O=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],k=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"];function T(e){return function(t=""){t=function(e){const t=C(e.split("?")[0]).sanitized;return t.length>1&&"/"===t[t.length-1]?t.slice(0,t.length-1):t}(t.toLowerCase()).split("/").filter(e=>!!e).join("/");let n=0;const o=Object.keys(e||{}),r="string"==typeof t?t.split("/").filter(e=>!!e):[];for(;n<o.length;){if(e[o[n]].path===t)return e[o[n]];if(e[o[n]].path.indexOf("/*")>-1){const t=e[o[n]].path.split("/");if(t.length>r.length&&"**"!==t[r.length-1]){n+=1;continue}if(t.length<r.length&&"**"!==t[t.length-1]){n+=1;continue}let s=!1,i=0;for(;i<t.length;){if(r[i]!==t[i]&&-1===t[i].indexOf("*")){s=!1;break}s=!0,i+=1}if(s)return e[o[n]]}n+=1}}}let A=0;function E(e){return(performance.now()+"xxxxxxxxxxxxxxxx").replace(/[x]|\./g,(function(){return(16*Math.random()|0).toString(16)}))+e}function S(){return A+=1,E(A)}const L=["string","number","null","undefined","function","boolean","date"];function P(e){return L.indexOf(typeof e)>-1||null===e||e instanceof Date}function N(e){return(typeof e).indexOf("object")>-1&&null!==e&&!Array.isArray(e)&&!(e instanceof Date)}function D(e){return null===e?"null":P(e)?typeof e:function(e){return e instanceof Element||e instanceof Node}(e)?"dom":Array.isArray(e)?"array":function(e){let t=new Date(Date.parse(e));return"Invalid Date"!==t&&!isNaN(t)&&t instanceof Date}(e)?"date":N(e)?"object":typeof e}function q(e,t){const n=D(e);if(D(t)!==n)return!1;if(P(e))return t===e;if("boolean"===n&&e!==t)return!1;if("array"===n&&e.length!==t.length)return!1;if("object"===n&&Object.keys(e).length!==Object.keys(t).length)return!1;if("object"===n&&e.constructor!==t.constructor)return!1;if("date"===n){let n=e===t;return n=new Date(e).getTime()===new Date(t).getTime(),n}if("dom"===n)return e.isEqualNode(t);if("array"===n){let n=e.length;for(;n--;)if(!q(e[n],t[n]))return!1}if("object"===n){const n=Object.keys(e);let o=n.length;for(;o--;)if(!q(e[n[o]],t[n[o]]))return!1}return!0}var $=(e,t=300,n=!1)=>{let o=0;return function(){const r=void 0,s=arguments,i=n&&!o,a=function(){o=requestAnimationFrame((function(){o=0,n||e.apply(r,s)}))};clearTimeout(o),cancelAnimationFrame(o),o=setTimeout(a,t),i&&e.apply(r,s)}};const M=(e,t)=>{},I=e=>{},B=()=>{},F=(e,t,n)=>B;function V(e,t={}){const n=!!t.noInit,o=!!t.nextOnNew,r=!0===t.noSubsComplete,s=!!t.matchType,i=t.onSubscribe&&"function"==typeof t.onSubscribe?t.onSubscribe:e=>e,a=t.formatter&&"function"==typeof t.formatter?t.formatter:e=>e,l=D(a(e)),u=!!t.takeFirst,d=!!t.takeLast,f=!!u||!!d,p=(e,t={})=>{const n=a(e,t);return s&&D(n)!=l?h.value:n},m=[p(e)],h={errors:[],updated:(new Date).getTime(),subscriptions:{},isComplete:!1,initialType:l,initialValue:e,eventCallbacks:{},formatter:a,matchType:s,nextOnNew:o,noInit:n,noSubsComplete:r,takeFirst:u,takeLast:d,value:null,previousValue:null};function g(){w&&(Object.keys(h.subscriptions).forEach(e=>c(h,`subscriptions.${e}.unsubscribe`,B)),Object.defineProperties(w,{value:{get:function(){}},previous:{get:function(){}},subscriptions:{get:function(){}},next:{value:B},error:{value:B},complete:{value:B},subscribe:{value:B},unsubscribe:{value:B},insert:{value:B},insertAll:{value:B},remove:{value:B},removeElements:{value:B},has:{value:B},indexOf:{value:B},reverse:{value:B},on:{value:B},trigger:{value:B}}),h.eventCallbacks={},h.isComplete=!0)}Object.defineProperties(h,{value:{get:()=>m[0],set(e){for(m.unshift(e);m.length>2;)m.pop()}},previousValue:{get:()=>m[1]}});const b=(e,t,n)=>{Object.keys(h.subscriptions).forEach(((e,t,n,o)=>r=>{const s=c(o,`${r}.${n}`);"function"==typeof s&&s(e,t||{},r)})(t,n,e,h.subscriptions)),"complete"===e&&g()},v=$(b,1e3,!!u),y=f?v:b;function x(e){return function(){delete h.subscriptions[e.id],r&&0===Object.keys(h.subscriptions).length&&g()}}let w={get value(){return h.value},get previous(){return h.previousValue},get subscriptions(){return h.subscriptions},next:function(e,t){const n=p(e,w);if(t||!o||!q(n,h.value))return h.value=n,h.updated=(new Date).getTime(),y("next",h.value,h),h},error:function(e){h.errors=h.errors.concat([e]),h.updated=(new Date).getTime(),y("error",e,h),w.complete()},complete:function(){y("complete",h)},subscribe:function(e,t=(e=>{}),o=B){const r=Object.assign({},{next:e,error:t,complete:o,id:S()});return r.unsubscribe=x(r),h.subscriptions[r.id]=r,n||void 0===h.value||"function"!=typeof r.next||r.next(h.value),i(r),x(r)},insert:function(e,t=h.value.length){return Array.isArray(h.value)?(h.value.splice(t,t!==h.value.length?1:0,e),w.next(h.value,!0)):"string"==typeof h.value?(h.value=h.value.slice(0,t)+e+h.value.slice(t),w.next(h.value,!0)):(h.value[t]=e,w.next(h.value,!0))}};return w}function z(e,t,n={}){if(!e||!t)return{value:void 0,previous:void 0,subscriptions:{},next:M,error:I,complete:B,subscribe:F,insert:(e,t)=>{}};let o=!1;function r(){return e&&"function"==typeof e.addEventListener}n=Object.assign({},{preventDefault:!1,stopPropagation:!1,useCapture:!0},n||{});const s=V(void 0,{onSubscribe:function(){if(!o){if(!r())return a();o=!0,e.addEventListener(t,i,n.useCapture)}},noSubsComplete:!0});function i(e){if(!s||!s.subscriptions||0===Object.keys(s.subscriptions).length)return a();("function"==typeof n.preventDefault&&n.preventDefault(e)||"boolean"==typeof n.preventDefault&&n.preventDefault)&&e.preventDefault(),("function"==typeof n.stopPropagation&&n.stopPropagation(e)||"boolean"==typeof n.stopPropagation&&n.stopPropagation)&&e.stopPropagation(),s.next(e)}function a(){r()&&e.removeEventListener(t,i,n.useCapture),o=!1,Window}return s}const R=e=>"a"===c(e,"tagName","nope").toLowerCase()&&c(e,"href")?e:void 0,H=(e,t)=>{let n,o=0;for(;!n&&t(o);){const t=c(e,o.toString(),void 0,R);t&&(n=t),o+=1}return n},W=e=>{const t=e.target,n=c(t,"tagName","nope").toLowerCase(),o=c(e,"path",""),r=e.composedPath&&"function"==typeof e.composedPath?e.composedPath():void 0;let s;"a"===n&&(s=t),!s&&Array.isArray(o)&&(s=H(c(e,"path"),e=>e<o.length)),!s&&r&&(s=H(r,e=>e<r.length));const i=c(e,"originalTarget",c(e,"explicitOriginalTarget"),c(e,"parentNode"));if(!s&&i&&(s=function(e,t){let n;for(;!n&&e&&e!==document.body;)t(e)&&(n=e),e=e.parentNode;return n}(i,e=>"a"===c(e,"tagName").toLowerCase())),!s||"_blank"===s.getAttribute("target"))return;const a=b(()=>new URL(s.href));return a&&a.host===location.host?{link:s,href:a.href,path:a.pathname,search:a.search}:void 0};var _=function(){const e=V({},{matchType:!0,nextOnNew:!0,noSubsComplete:!0,noInit:!0}),t=z(document.documentElement,"click",{preventDefault:W}).subscribe(t=>{const n=W(t);n&&e.next(n)},()=>t(),()=>t());return e}();var J=function(e={}){if(!Object.keys(e).length)return"";const t=Object.keys(e).map((function(t){return null!=(n=e[t])&&!1!==n&&"".concat(t,"=",e[t]);var n})).filter((function(e){return!!e})).join("&");return t?"?"+t:""};function U(e="/",t={},n=!1){const o=function(e,t={}){return`${location.protocol}//${location.host}${function(e=""){return"/"==e[0]?e:"/"+e}(e)}${J(t)}`}(e,t);n&&history.replaceState&&history.replaceState({},document.title,o),!n&&history.pushState&&history.pushState({},document.title,o)}function Q(...e){const t=arguments,n=t.length;return function(e){let o=n+1;for(;o--;)e="function"!=typeof t[n-o]?e:t[n-o](e);return e}}function X(e){const t=Object.assign({},e),n=T(t),o=(e={},t=[])=>{const n={},o=Object.keys(e);return t.length&&o.length?(o.forEach(o=>t.indexOf(o)>-1?n[o]=e[o]:void 0),n):n},r=n(`${location.pathname}${location.search}`),s={path:location.pathname,query:g(location.search),base:`${location.protocol}//${location.host}`};s.query=o(s.query,c(r,"allowedQueries"));const i=Object.assign({},s,r),a=Q(n,e=>e?e.redirect?n(e.redirect):e:void 0),l=V(i.query,{matchType:!0,nextOnNew:!0}),u=V(i,{matchType:!0,nextOnNew:!0,formatter:(e,t)=>{const n=c(t,"value",i),r="string"!=typeof e?"":e.split("?")[0].split("/").filter(e=>!!e).join("/"),s=c(e,"path",r,e=>"string"==typeof e?e:void 0);if(!s&&""!==s)return n;const u=a(s);if(!u)return n;const d=c(e,"query","string"==typeof e?g(e):{});n.query=o(d,c(u,"allowedQueries"));const f=function e(t,n){const o={},r=D(t),s=D(n),i=["object","array"];if(-1==i.indexOf(r)||-1==i.indexOf(s))return t!==n?n||t:void 0;if(r!==s)return"undefined"==s&&"undefined"!==r?t:n;function a(r){if(o[r])return;const s=e(t[r],n[r]);void 0!==s&&(o[r]=t[r]===s?void 0:s)}return"object"==r&&(Object.keys(t).forEach(a),Object.keys(n).forEach(a)),"array"==r&&(t.forEach((e,t)=>a(t)),n.forEach((e,t)=>a(t))),o}(l.value,n.query);Object.keys(f).length&&l.next(n.query);const p=Object.assign({},n,u);return U(p.path,p.query,n.path===p.path),p}});_.subscribe(e=>u.next(`${e.path}${e.search||""}`));const d=z(window,"popstate");return d&&d.subscribe(()=>u.next(`${location.pathname}${location.search}`)),{routes:t,subscribeToRoute:function(e,t,n){return u.subscribe(e,t,n)},subscribeToQuery:function(e,t,n){return l.subscribe(e,t,n)},get current(){return u.value},set current(e){u.next(e)},get query(){return c(u,"current.query",{})},set query(e){u.next(Object.assign({},u.value,{query:Object.assign({},c(u,"value.query"),e)}))},get lastState(){return u.previous}}}function Z(){return new Promise(e=>"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e))}const G=new WeakMap,Y=new Map;let K=!1;function ee(e){"childList"===e.type&&(d(e.removedNodes).forEach(e=>function e(t){if(!t)return;t.children&&d(t.children).forEach(t=>e(t)),u(t);const n=c(t,"nodeName.toLowerCase()"),o=c(t,"onDisconnected");G.get(Y.get(n))&&"function"==typeof o&&o(t)}(e)),d(e.addedNodes).forEach(e=>function e(t){if(!t)return;const n=c(t,"nodeName.toLowerCase()");"#text"!==n&&(n&&G.get(Y.get(n))&&G.get(Y.get(n)).create(t),d(t.children).forEach(t=>e(t)))}(e)))}var te={add:(e,t)=>(K?Z():(K=!0,new Promise(e=>{Z().then(()=>{new MutationObserver(e=>d(e).forEach(ee)).observe(document.body,{childList:!0,subtree:!0}),e()})}))).then(()=>{Y.set(e.tag,{tag:e.tag}),G.set(Y.get(e.tag),{settings:e,create:e=>t(e)?e.onConnected(e):void 0}),d(document.body.querySelectorAll(e.tag)).forEach(()=>G.get(Y.get(e.tag)).create)})};function ne(e){return new Promise(t=>{let n=100;const o=()=>{if(n-=1,e.state){const n=Object.keys(e.state);if(n.length&&"function"==typeof e.state[n[0]].subscribe)return requestAnimationFrame(()=>t(e.state))}n>0&&requestAnimationFrame(o)};o()})}function oe(e){return e?(d(e.children||[]).forEach(f),e):e}function re(e,t,n){let o;return"function"==typeof Event?o=new CustomEvent(t,{detail:n}):(o=document.createEvent("Event"),o.initEvent(t,!0,!0)),e.dispatchEvent(o),e}const se=window;function ie(){}function ae(e){const t=e.target,n=e.attributeName;t&&t.parentNode&&n&&(t[n]=t.getAttribute(e.attributeName))}function ce(e,t){e&&t&&d(e.children).forEach(n=>{const o=n.getAttribute("slot-ref");if(!t[o])return;const r=e.querySelector(t[o].target);r&&(t[o].multiple||oe(r),r.appendChild(document.adoptNode(n)),re(e,"slotchanged",{slot:o,element:n}))})}function le(e){const t=c(e,"parentNode",c(e,"host"));t&&t.removeChild(e)}function ue(e,t){t.methods&&Object.keys(t.methods).forEach(n=>e[n]=t.methods?t.methods[n](e):void 0),t.elements&&(e.elements=function(e,t){const n={},o={};function r(n){const r=d(e.querySelectorAll(t[n].selector));return o[n]=r.length>1?r:r[0],o[n]}for(let s in t){const i=t[s];n[s]=V(r(s)),i.onChange=i.onChange||ie,Object.defineProperty(o,s,{get:function(){return n[s].value},set:function(e){e!==n[s].value&&n[s].next(e)}}),n[s].subscribe(()=>{u(n[s].previous),le(n[s].previous),ne(e).then(()=>{i.onChange&&i.onChange(n[s].value,e),se.genesis(`${e.tagName} element ${s} updated - ${e.componentId}`)})})}return o}(e,t.elements)),t.properties&&Object.keys(t.properties).forEach(n=>function(e,t,n){const o=Object.assign({format:e=>e},n);"function"!=typeof o.format&&(o.format=e=>e);const r=o.format(e.getAttribute(t)||e[t]||o.initialValue,e);if(e.state[t]=V(r,{initialValue:r,nextOnNew:!1!==o.nextOnNew,matchType:o.matchType}),Object.defineProperty(e,t,{get:()=>e.state[t].value,set(n){if(!e.state[t])return;const r=o.format(n,e);if(!q(e.state[t].value,r)){let s=o.reflect&&r!==e.getAttribute(t)&&r==n;e.state[t].next(r),s&&e.setAttribute(t,r),se.genesis(`${e.tagName} property ${t} updated - ${e.componentId}`)}}}),"function"!=typeof o.onChange)return;return e.state[t].subscribe(t=>o.onChange?o.onChange(t,e):void 0)}(e,n,c(t,"properties."+n)));(t.onConnected||ie)(e),t.slots&&Object.keys(t.slots).forEach(t=>{d(e.querySelectorAll(`[slot-ref="${t}"]`)).forEach(n=>re(e,"slotchanged",{slot:t,element:n}))}),se.genesis(`Connected ${e.tagName} - ${e.componentId}`)}function de(e){te.add(e,(function(t){if(t.constructed)return;se.genesis("Creating "+e.tag),t=function(e){return e.constructed=!0,e.componentId=S(),e.state={},e.elements={},e}(t),se.genesis(`Init ${e.tag} - ${t.componentId}`),t.onConnected=()=>ue(t,e),t.onDisconnected=function(){u(t),"function"==typeof e.onDisconnected&&e.onDisconnected(t),t.state&&Object.keys(t.state).forEach(e=>t.state[e].complete()),se.genesis(`Disconnected ${t.tagName} - ${t.componentId}`)};const n=function(e){const t=[];let n=e.childNodes.length;for(;n--;)"#text"!==(o=e.childNodes[n]).nodeName||/\S/gm.test(o.textContent||"")?t.push(e.childNodes[n]):e.removeChild(e.childNodes[n]);var o;return t.reverse()}(t);if(n[0]){const o=document.createDocumentFragment(),r=document.createElement("div");r.innerHTML=e.template||"",o.appendChild(r),d(r.children).forEach(e=>t.insertBefore(e,n[0]))}else t.innerHTML=e.template||"";const o=Object.keys(e.slots||{}).length>0,r=new MutationObserver(n=>{let r=!1;for(let e=0;e<n.length;e++)"attributes"===n[e].type&&ae(n[e]),"childList"===n[e].type&&o&&(r=!0);r&&ce(t,e.slots)}),s=Object.keys(e.properties||{});return(s.length||o)&&(r.observe(t,function(e,t){const n={attributes:!!(Array.isArray(e)&&e.length)};return n.attributes&&(n.attributeFilter=e),t&&(n.childList=!0),n}(s,e.slots)),t.nodeObserver=r),t.events=t.events||{},o&&n.length&&ce(t,e.slots),re(t,"ready",t),t})),se.genesis(e.tag+" registered")}function fe(e){return b(()=>x(JSON.parse(e),!0))||x(e,!1)}function pe(e){return function(e,t){return x(e||t,!!e)}(b(()=>JSON.stringify(e)),e)}se.genesisObserver=V([{src:"dawn",time:new Date}]),se.genesis=function(e){se.genesisObserver.insert({src:e,time:new Date})},se.showGenesis=()=>{console.log(se.genesisObserver.value,se.genesisObserver.value[se.genesisObserver.value.length-1].time-se.genesisObserver.value[0].time)};const me=e=>fe(localStorage.getItem(e)),he=(e,t)=>localStorage.setItem(e,"string"==typeof t?t:pe(t)),ge=V(me("projects")||[],{matchType:!0,nextOnNew:!0});ge.subscribe(e=>{he("projects",e)});const be=V(me("project")||"",{matchType:!0,nextOnNew:!0});be.subscribe(e=>he("project",e));var ve={get projects(){return me("projects")||ge.next([]),ge.value},set projects(e){ge.next(e)},get currentProject(){return be.value},set currentProject(e){be.next(e)}};const ye=V(ve.projects,{matchType:!0,nextOnNew:!0,formatter:e=>{const t=[];return e.forEach(e=>e.name&&e.id?t.push(e):void 0),t}});function xe(e){const t=ye.value;let n,o=t.length;for(;!n&&o--;)t[o].id==e&&(n=t[o]);return n}function we(e){const t=ye.value;let n,o=t.length;for(;null==n&&o--;)t[o].id==e&&(n=o);return n}ye.subscribe(e=>ve.projects=e);const je=V(xe(ve.currentProject),{nextOnNew:!0,formatter:(e,t)=>{const n=c(e,"id");return n&&xe(n)||c(t,"value")}});je.subscribe(e=>ve.currentProject=e.id);const Ce={subscribeToList:ye.subscribe,get list(){return ye.value},subscribeToCurrent:je.subscribe,get current(){return je.value},set current(e){je.next(Ce.findById(c(e,"id",e)))},findById:xe,findIndexById:we,newProject(e){if(!e)return;let t=S();for(;Ce.findById(t);)t=S();ye.insert({name:e,id:t,updated:(new Date).getTime(),created:(new Date).getTime()}),Ce.current=Ce.findById(t)},saveProject:({name:e="",id:t=""})=>t&&xe(t)?e?new Promise(n=>{const o=function e(t,n){const o=D(t),r=D(n),s=["object","array"];if(-1==s.indexOf(o)||-1==s.indexOf(r)||o!==r)return void 0===n?t:n;function i(t,o){return-1==s.indexOf(n[o])?t[o]=n[o]:t[o]=e(t[o],n[o]),t}return"object"==o?Object.keys(n).reduce(i,t):"array"==o?n.reduce(i,t):t}(xe(t),{name:e,id:t,updated:(new Date).getTime()});return ye.insert(o,we(t)),n(o)}):Promise.reject("Project must have a name"):Promise.reject("Invalid project"),deleteProject:e=>e&&xe(e)?new Promise(e=>e()):Promise.reject("Invalid project")};var Oe=Ce;function ke(e){let t=function(e){const t=b(()=>new Date(Date.parse(e)));return x(t,"Invalid Date"!==t&&!isNaN(t)&&t instanceof Date)}(e);if(!y(t))return t;const n=parseInt(t.toLocaleTimeString(navigator.language,{hour:"numeric",hour12:!0}));return{year:t.getFullYear(),yearShort:t.toLocaleDateString(navigator.language,{year:"2-digit"}),monthIndex:t.getMonth(),month:t.getMonth()+1,monthDouble:t.toLocaleDateString(navigator.language,{month:"2-digit"}),monthName:t.toLocaleString(navigator.language,{month:"long"}),monthNameShort:t.toLocaleString(navigator.language,{month:"short"}),day:t.getDate(),dayDouble:t.toLocaleDateString(navigator.language,{day:"2-digit"}),dayOfWeek:t.toLocaleString(navigator.language,{weekday:"long"}),dayOfWeekShort:t.toLocaleString(navigator.language,{weekday:"short"}),dayIndex:t.getDay(),hour24:parseInt(t.toLocaleTimeString(navigator.language,{hour:"numeric",hour12:!1})),hour:n,hourDouble:t.toLocaleTimeString(navigator.language,{hour:"2-digit",hour12:!0}).replace(/[^0-9.]+/g,""),hourDouble24:t.toLocaleTimeString(navigator.language,{hour:"2-digit",hour12:!1}).replace(/[^0-9.]+/g,""),minutes:parseInt(t.toLocaleTimeString(navigator.language,{minute:"numeric"})),minutesDouble:("0"+t.getMinutes()).slice(-2),seconds:parseInt(t.toLocaleTimeString(navigator.language,{second:"numeric"})),secondsDouble:("0"+t.getSeconds()).slice(-2),milliseconds:t.getMilliseconds(),ampm:t.toLocaleTimeString(navigator.language,{hour12:!0,hour:"numeric"}).replace(/[:\d]/g,"").trim(),date:t}}function Te(e,t){function n(t){const n=!y(t);return x(n?e:t,!0)}return 1===arguments.length?n:n(t)}const Ae={},Ee=[];let Se,Le,Pe=!1;function Ne(e){Ae[e]&&(Ae[e].hasRun=!0,Ae[e].canceled=!0,delete Ae[e])}function De(e){return performance.now()-e<qe.max}function qe(e){cancelAnimationFrame(Se),clearTimeout(Le);do{const e=Ee.shift();e&&(!Ae[e]||Ae[e].canceled||Ae[e].hasRun||(Ae[e].hasRun=!0,Ae[e].resolve(Ae[e].task()),requestAnimationFrame((function(){Ne(e)}))))}while(De(e)&&Ee.length);if(Ee.length)return Se=requestAnimationFrame((function(){Le=setTimeout((function(){qe(performance.now())}))}));Pe=!1}function $e(e){let t,n;const o=new Promise((function(e,o){t=e,n=o})),r=S();return Ae[r]={hasRun:!1,canceled:!1,task:e,promise:o,resolve:t,reject:n,id:r,cancel:function(){Ne(r)}},Ee.push(r),!Pe&&Ee.length&&(Pe=!0,qe(performance.now())),Ae[r]}qe.max=4.5,$e.max=function(e){qe.max=e};const Me={};let Ie=!1;function Be(e){if(!e||!e.id)return;const t=e.id;Me[t]&&!Me[t].resolved&&(Me[t].resolved=!0,Me[t].resolve(),$e((function(){delete Me[t]})))}function Fe(){Ie=!0;const e=Object.keys(Me);e.length?(e.forEach((function(e){if(!Me[e]||Me[e].resolved)return;const t=Me[e],n=(new Date).getTime()-t.started;n>=t.frameValues.length?(t.end=n,$e((function(){return t.stepFn(t.frameValues[t.frameValues.length-1])})),$e((function(){return Be(t)}))):$e((function(){return t.stepFn(t.frameValues[n])}))})),$e(Fe)):Ie=!1}const Ve=()=>({id:"",stepFn:()=>{},frameValues:[],resolved:!0,started:(new Date).getTime(),cancel:()=>{},then:e=>Promise.reject(e),catch:e=>Promise.reject(e),promise:new Promise((e,t)=>t()),resolve:Promise.reject,reject:Promise.reject});var ze=function(e,t){if(!Array.isArray(t)||0===t.length)return Ve();if("function"!=typeof e)return Ve();const n=S();let o,r;const s=new Promise((function(e,t){o=e,r=t}));return Me[n]={id:n,stepFn:e,frameValues:t,resolved:!1,started:(new Date).getTime(),cancel:function(){return Be(Me[n])},then:function(e){return s.then(e)},catch:function(e){return s.catch(e)},promise:s,resolve:o,reject:r},Ie||Fe(),Me[n]};function Re(e,t,n=4){return function(e,t,n,o){const r=[];let s=0;for(;s<t-1;){const a=Math.round(1e3*(((i=e)[1]-i[0])*o(s,t,n)))/1e3;r.push(e[0]+a),s+=1}var i;return r.push(e[1]),r}(e,t,n,(function(e,t,n){return function(e,t){return t=void 0===t?4:t,1-Math.pow(1-e,t)}(e/t*(e/t),n)}))}function He(e,t){function n(t){return x(t,b(()=>Array.from(e).indexOf(t)>-1))}return 1===arguments.length?n:n(t)}function We(e){const t=Number(e),n=!isNaN(t);return x(n?t:e,n)}const _e=["center","left","right","top","bottom","center center","center top","center bottom","left center","left top","left bottom","right center","right top","right bottom"],Je=["content","parent","page"];function Ue(e,t,{align:n,speed:o,widthbasis:r,scrim:s}={align:"center",speed:100,widthbasis:"content",scrim:!1,hideOnEscape:!0}){t.classList.add("overlay-content-target"),s?t.classList.add("overlay-content-scrim"):s=!1,"page"==r&&t.classList.add("overlay-content-fullpage");const i={parent:e,target:t,scrim:s,showing:!1,align:Q(He(_e),Te("center"))(n),speed:Q(We,Te(100))(o),widthbasis:Q(He(Je),Te("content"))(r),positionTimer1:null,positionTimer2:null,get position(){return i.getPositions()},getPositions:()=>new Promise(n=>requestAnimationFrame(()=>{const o=e.getBoundingClientRect(),r=t.getBoundingClientRect(),s=window.innerWidth,i=window.innerHeight,a=o.top>i-(o.top+o.height),l=o.top-10>i||o.bottom+10<0,u=c(t,"offsetLeft",0);return n({parent:e,parentBox:o,target:t,targetBox:r,windowHeight:i,windowWidth:s,isOnTop:a,outOfView:l,targetLeft:u,targetTop:c(t,"offsetTop",0),leftShift:u-Math.round(r.left)})})),scrollContent:(e,n)=>{t.scrollTop=n,t.scrollLeft=e},show:()=>i.showing?Promise.resolve():(i.showing=!0,function e(t){clearTimeout(t.positionTimer1),cancelAnimationFrame(t.positionTimer2);const n=t.parent;t.showing&&n&&"page"!=t.widthbasis&&t.getPositions().then((function(n){if(clearTimeout(t.positionTimer1),cancelAnimationFrame(t.positionTimer2),n.outOfView)return t.hide();n.isOnTop?(n.target.style.transformOrigin="50% 100%",n.target.style.top=n.parentBox.top-n.targetBox.height+"px"):(n.target.style.transformOrigin="50% 0%",n.target.style.top=n.parentBox.bottom+"px"),n.parentBox.left+n.targetBox.width>n.windowWidth?n.parentBox.right>n.windowWidth?n.target.style.left=n.windowWidth-n.targetBox.width+n.leftShift+"px":n.target.style.left=n.parentBox.right-n.targetBox.width+n.leftShift+"px":n.target.style.left=n.parentBox.left+n.leftShift+"px",t.positionTimer1=setTimeout(()=>{t.positionTimer2=requestAnimationFrame(()=>e(t))},33)}))}(i),p(t,"style.pointerEvents","all"),p(t,"style.zIndex","999"),function(e,t,n){return ze(n,Re(e,t))}([0,1],i.speed,e=>{p(t,"style.transform",`scale(1, ${e})`),p(t,"style.opacity",e)}).then(()=>{p(t,"style.transform","scale(1, 1)"),p(t,"style.opacity",1),re(t,"shown",i)})),hide:()=>i.showing?(p(t,"style.pointerEvents","none"),p(t,"style.zIndex",-1),new Promise(e=>{i.showing=!1,p(t,"style.transform","scale(1, 0)"),p(t,"style.opacity",0),e(re(t,"hidden",i))})):Promise.resolve()},a=z(window,"keydown");if(a){const n=a.subscribe(o=>{if(!e||!t)return n();"Escape"==o.key&&i.hide()})}return i}const Qe=["0",0,"off","false",!1],Xe=["1",1,"on","true",!0];function Ze(e){const t=Xe.indexOf(e)>-1,n=Qe.indexOf(e)>-1;return x(!!t,t||n)}function Ge(e){return t=b(()=>e.toString()),x(t,"string"==typeof t);var t}function Ye(e){return!!e}function Ke(e){if(function(e){return null==e||""===e||Array.isArray(e)&&0===e.length||(typeof e).indexOf("object")>-1&&0===Object.keys(e).length||!1===e||"false"===e||"undefined"===e||"null"===e}(e))return x(e,!1);if("function"!=typeof e.split&&"object"==typeof e)return x(new RegExp(e),!0);if(0===e.indexOf("/")){const t=e.split("/").filter(Ye);let n=t.pop()||"";return n.match(/[^gmisuy]/)&&(t.push(n),n=""),x(new RegExp(t.join("/"),n||void 0),!0)}return x(new RegExp(e),!0)}function et(e,t,n=!1){return function(o){document.activeElement===e||""!==e.value?e.setAttribute("label-up","true"):e.removeAttribute("label-up"),o&&!n&&("focusin"===o.type&&re(t,"focus",t),"focusout"===o.type&&re(t,"blur",t),"input"===o.type&&p(t,"value",e.value))}}const tt=(e,t,n)=>()=>{t.focused=n,(e=>-1!=["radio","checkbox"].indexOf(c(e,"type")))(e)||et(e,t)()},nt=e=>"input-"+e;function ot(){return{input:{selector:"input, textarea, select",onChange(e,t){const n=e;n.events={animationstart:z(n,"animationstart").subscribe(et(n,t)),label:t.state.label.subscribe(e=>n.placeholder=e),ready:z(t,"ready").subscribe(t.setAttribute("ready","true")),id:t.state.id.subscribe(e=>n.setAttribute("id",nt(e))),focusIn:z(n,"focusin").subscribe(tt(n,t,!0)),focusOut:z(n,"focusout").subscribe(tt(n,t,!1)),input:z(n,"input").subscribe(()=>{const e=n.value;t.value!==e&&(t.value=e,t.count=c(e,"length",0))}),value:t.state.value.subscribe(e=>{const o=e;o!==n.value&&(n.value=o,t.isempty=Math.random(),t.isvalid=Math.random(),t.count=c(o,"length",0))})}}},label:{selector:"label",onChange:(e,t)=>{e.events={error:t.state.error.subscribe(t=>e.setAttribute("error",t)),id:t.state.id.subscribe(t=>e.setAttribute("for",nt(t))),content:t.state.label.subscribe(n=>{e.innerHTML=n,t.classList[n?"remove":"add"]("no-label")})}}},helpText:{selector:".field-help-text",onChange:(e,t)=>e.events={content:t.state.helptext.subscribe(t=>e.innerHTML=t)}},count:{selector:".field-count-text",onChange:(e,t)=>{t.state.showcount&&(e.events={},e.events.showcount=t.state.showcount.subscribe(n=>{function o(){const n=t.max?t.max+"/":"",o=t.count||0;e.textContent=`(${n}${o})`}n||("function"==typeof e.events.count&&(e.events.count(),delete e.events.count),"function"==typeof e.events.max&&(e.events.max(),delete e.events.max)),n&&("function"!=typeof e.events.count&&(e.events.count=t.state.count.subscribe(o)),"function"!=typeof e.events.max&&(e.events.max=t.state.max.subscribe(o)))}))}}}}const rt=(e=!1)=>({format:t=>Q(Ze,Te(e))(t)}),st=()=>({format:e=>Q(Ge,Te(""),e=>C(e).sanitized)(e)});function it(e,t,n){const o=t.elements.input;o&&o[e?"setAttribute":"removeAttribute"](n,e||void 0)}function at(e){const t=e.elements.input;let n="string";if(t){const e=t.tagName.toLowerCase(),o=t.type;"input"==e&&("number"==o&&(n="number"),"checkbox"==o&&(n="bool")),"select"==e&&(n="bool|number|string")}return n}function ct(e){return{onChange:(t,n)=>it(t,n,e)}}function lt(){return{autocomplete:Object.assign(ct("autocomplete"),rt(!0)),autofocus:Object.assign(ct("autofocus"),rt(!1),{initialValue:!1}),disabled:Object.assign(ct("disabled"),rt(!1),{initialValue:!1}),error:{format:Q(Ge,Te(""),e=>C(e).sanitized),onChange(e,t){const n=c(t,"elements.input");n&&n.setCustomValidity(e||"")}},focused:{format:(e,t)=>document.activeElement==c(t,"elements.input")},form:{format:(e,t)=>c(t,"elements.input.form")},helptext:st(),iconalign:{format:(e,t)=>Q(Ge,He(["left","right"]),Te(c(t,"iconalign","left")))(e)},isempty:{format:(e,t)=>{const n=c(t,"value");return""==n||null==n},onChange(e,t){requestAnimationFrame(tt(c(t,"elements.input"),t,!0))}},id:{format:Q(Ge,e=>Te(S(),e)),reflect:!0},isvalid:{format:(e,t)=>c(t,"elements.input.validity.valid")},label:{format:e=>Q(Ge,Te(""),e=>C(e).sanitized)(e)},labelalign:{format:e=>Q(Ge,He(["top","inside"]),Te("inside"),e=>C(e).sanitized)(e),reflect:!0,onChange(e,t){t.getAttribute("labelalign")!==e&&t.setAttribute("labelalign",e)}},name:Object.assign(ct("name"),st()),readonly:Object.assign(ct("readonly"),rt(!1),{initialValue:!1}),required:Object.assign(ct("required"),rt(!1),{initialValue:!1}),tabindex:Object.assign(ct("tabindex"),(e="tabindex",{format:(t,n)=>Q(We,Te(c(n,e,0)))(t)})),value:{format:(e,t)=>{const n=at(t);if("number"==n)return Q(We,Te(c(t,"value")))(e);if("bool"==n){const e=c(t,"elements.input.checked");return Q(Ze,Te(c(t,"value",!1)))(e)}return Q(Ge,e=>"string"!=typeof e?"":e,e=>C(e).sanitized||"")(e)}},validity:{format:(e,t)=>c(t,"elements.input.validity")},validationMessage:{format:(e,t)=>c(t,"elements.input.validationMessage")},willValidate:Object.assign(ct("willValidate"),rt(!0))};var e}function ut(){return{count:{format:(e,t)=>t.elements.input.value?t.elements.input.value.length:0},showcount:rt(!1),max:{format:(e,t)=>Q(We,Te(c(t,"max")))(e),onChange:(e,t)=>it(e,t,"string"==at(t)?"maxlength":"max")},min:{format:(e,t)=>Q(We,Te(c(t,"min")))(e),onChange:(e,t)=>it(e,t,"string"==at(t)?"min":"max")},pattern:{format:(e,t)=>Q(Ke,Te(c(t,"pattern")))(e),onChange:(e,t)=>it(e,t,"pattern")}}}function dt(){return{blur:e=>()=>{c(e,"elements.input.blur()"),e.focused=!1},focus:e=>()=>{c(e,"elements.input.checkfocusValidity()"),e.focused=!0},checkValidity:e=>()=>c(e,"elements.input.checkValidity()"),reportValidity:e=>()=>c(e,"elements.input.reportValidity()")}}function ft(e){return z(e,"slotchanged").subscribe(t=>{const n=c(t,"detail.element"),o=n?"true":void 0;e[n?"setAttribute":"removeAttribute"]("hasicon",o)})}const pt=["text","email","tel"],mt=ot(),ht=Object.assign({type:{format:(e,t)=>Q(He(pt),Te(c(t,"value",pt[0])))(e)}},lt(),ut()),gt={tag:"field-text",template:n(0),elements:mt,properties:ht,methods:dt(),slots:{icon:{target:".icon-container"}},onConnected(e){e.events={slotChanged:ft(e)}}};de(gt);var bt=gt;const vt={tag:"new-project-overlay",template:n(1),properties:{shown:{nextOnNew:!0,format:Q(Ze,Te(!1))}},elements:{root:{selector:".new-project-overlay-container",onChange(e,t){e.overlay=Ue(t,e,{scrim:!0,widthbasis:"page"}),requestAnimationFrame(()=>t.setAttribute("ready","true")),e.events={shown:t.state.shown.subscribe(t=>e.overlay[t?"show":"hide"]())}}},name:{selector:"#new-project-name"},form:{selector:"#new-project-form",onChange(e,t){const n=z(e,"submit",{preventDefault:!0}),o=t;n&&(e.events={submit:n.subscribe(()=>{const e=o.elements.name;Oe.newProject(e.value),e.value="",o.shown=!1})})}},newProjectCancel:{selector:"#new-project-cancel",onChange(e,t){const n=t,o=z(e,"click");o&&(e.events={click:o.subscribe(()=>n.shown=!1)})}}}};de(vt);const yt={tag:"projects-list",template:n(2),elements:{itemsContainer:{selector:".projects-list-items",onChange(e){e.events={list:Oe.subscribeToList(t=>{d(e.children||[]).forEach(f),t.forEach(t=>{const n=Q(ke,Te(ke(new Date)))(t.updated),o=document.createElement("a");o.className="flex-between-center project-link",o.href="javascript:void(0)",o.innerHTML=`<span class="mright-1">${t.name}</span><span class="translucent">${n.monthDouble}/${n.dayDouble}/${n.yearShort}</span>`,o.setAttribute("project-id",t.id),e.appendChild(o);const r=z(o,"click");r&&(o.events={click:r.subscribe(()=>Oe.current=t.id)})})}),current:Oe.subscribeToCurrent(t=>d(e.querySelectorAll(".project-link")).forEach(e=>e.classList[e.getAttribute("project-id")===t.id?"add":"remove"]("active-bg")))}}},overlay:{selector:"new-project-overlay"},newProjectBtn:{selector:".new-project-btn",onChange(e,t){const n=z(e,"click");n&&(e.events={click:n.subscribe(()=>t.elements.overlay.setAttribute("shown",!0))})}}}};de(yt);const xt={tag:"flash-message",template:n(3),slots:{header:{target:".flash-message-header"},body:{target:".flash-message-body"},footer:{target:".flash-message-footer"}},elements:{root:{selector:".flash-message-container",onChange:(e,t)=>e.events={type:t.state.type.subscribe(t=>e.setAttribute("type",t))}}},properties:{shown:{format:Q(Ze,Te(!1))},type:{format:Q(Ge,He(["danger","warning","success","info"]),Te("info"))}},onConnected(e){e.overlay=Ue(document.body,e,{scrim:!0,widthbasis:"page"}),e.events={shown:e.state.shown.subscribe(t=>e.overlay[t?"show":"hide"]())}}};de(xt);var wt=xt;const jt={tag:"project-settings",template:n(4),elements:{flashMessage:{selector:"flash-message"},form:{selector:"form",onChange(e,t){const n=z(e,"submit",{preventDefault:!0}),o=t.elements.name;n&&(e.events={submit:n.subscribe(()=>{Oe.saveProject({name:o.value,id:c(Oe,"current.id")})})})}},name:{selector:'field-text[name="project-name"]',onChange(e){e.events={current:Oe.subscribeToCurrent(t=>e.value=c(t,"name"))}}},deleteBtn:{selector:".delete-btn",onChange(e,t){const n=z(e,"click");n&&(e.events={click:n.subscribe(()=>t.elements.flashMessage.shown=!0)})}},deleteConfirmBtn:{selector:".delete-confirmed-btn",onChange(e,t){const n=z(e,"click");n&&(e.events={click:n.subscribe(()=>{Oe.deleteProject(c(Oe,"current.id")).then(()=>t.elements.flashMessage.shown=!1)})})}},cancelBtn:{selector:".delete-cancel-btn",onChange(e,t){const n=z(e,"click");n&&(e.events={click:n.subscribe(()=>t.elements.flashMessage.shown=!1)})}},deleteMsg:{selector:'[slot-ref="body"]',onChange:e=>e.events={project:Oe.subscribeToCurrent(t=>e.textContent=`Are you want to delete ${t.name}?`)}}}};de(jt);const Ct=V(void 0,{nextOnNew:!0}),Ot=[bt,wt],kt={get current(){return Ct.value},set current(e){Ct.next(e)},subscribeToCurrent:Ct.subscribe,defaultComponents:Ot};kt.current=Ot[0];var Tt=kt;const At=["none","horizontal","vertical","both"],Et=ot(),St=Object.assign({resize:{format:Q(Ge,He(At),Te(At[0])),reflect:!0}},lt(),ut()),Lt={tag:"field-textarea",template:n(5),elements:Et,properties:St,methods:dt(),slots:{icon:{target:".icon-container"}},onConnected(e){e.setAttribute("resize",e.resize),e.events={slotChanged:ft(e)}}};de(Lt);const Pt={tag:"component-settings",template:n(6),elements:{tagInput:{selector:'field-text[name="tag"]',onChange:e=>e.events={component:Tt.subscribeToCurrent(t=>e.value=t.tag)}},template:{selector:'field-textarea[name="template"]',onChange:e=>e.events={component:Tt.subscribeToCurrent(t=>e.value=t.template)}}}};de(Pt);const Nt=V({},{nextOnNew:!0}),Dt=V([],{nextOnNew:!0});var qt={get:()=>Dt.value,get current(){return Nt.value},set current(e){Nt.next(e)},subscribeToCurrent:Nt.subscribe,get list(){return Dt.value},set list(e){Dt.next(e)},subscribeToList:Dt.subscribe,newService(e){Dt.insert(e)}};const $t={tag:"field-button",template:n(7),properties:{type:{format:Q(Ge,Te(""))},disabled:{format:Q(Ze,Te(!1)),reflect:!0},spinner:{format:Q(Ze,Te(!1)),reflect:!0},theme:{format:Q(Ge,He(["danger","warning","secondary"]),Te("")),reflect:!0},size:{format:Q(Ge,He(["big","small"]),Te("")),reflect:!0},kind:{format:Q(Ge,He(["link"]),Te("")),reflect:!0}},slots:{content:{target:".field-button-container > button"}},elements:{button:{selector:"button",onChange(e,t){e.events={type:t.state.type.subscribe(t=>e[t?"setAttribute":"removeAttribute"]("type",t||void 0)),disabled:t.state.disabled.subscribe(t=>e[t?"setAttribute":"removeAttribute"]("disabled",!!t||void 0))}}}}};de($t);const Mt=dt(),It=ot(),Bt=Object.assign(lt()),Ft={tag:"field-checkbox",template:n(8),elements:It,properties:Bt,methods:Mt};de(Ft);function Vt(e){return b(()=>x(decodeURIComponent(e),!0))||x(e,!1)}function zt(e){return t=Q(Ge,Vt,w)(e),x(t,"string"==typeof t);var t}function Rt(e){if(!e)return x(e,!1);if(Array.isArray(e))return x(e,!0);const t=Q(zt,fe);return Array.isArray(t)?x(t,!0):b(()=>{const t=d(e);x(t,Array.isArray(t))})||x(e,!1)}function Ht(e){return x(e,Array.isArray(e))}function Wt(e){return b(()=>e.split(",").map(e=>e.trim()))||e}function _t(e){return Array.isArray(e)?x(e,!0):Q(Wt,Ht)(e)}function Jt(e,t={textContent:"textContent",value:"value"}){if(!Array.isArray(e))return x(e,!1);const n=e.map(e=>{if("string"==typeof e)return{textContent:e,value:e};if(N(e)){const n={};Object.keys(e).forEach(o=>b(n[t[o]||o]=e[o].toString()))}}).filter(e=>!!e);return x(n,!0)}const Ut=Object.assign({},ot(),{select:{selector:"select",onChange(e,t){e.events={options:t.state.options.subscribe(t=>{oe(e),t.forEach(t=>{const n=m({tag:"option",properties:t});n&&e.appendChild(n)})})}}}}),Qt=Object.assign({},lt(),{options:{format:Q(Rt,_t,Jt,Te([])),onChange(e,t){const n=c(t,"value");p(t,"value",n||c(e,"0.value",""))}}}),Xt={tag:"field-select",template:n(9),elements:Ut,properties:Qt,methods:dt(),slots:{icon:{target:".icon-container"}},onConnected(e){e.events={slotChanged:ft(e)}}};de(Xt);function Zt(e,t){if(!e)return!1;const n=function(e){return c(e,"path.0",c(e,"composedPath().0",c(e,"originalTarget",c(e,"explicitOriginalTarget",c(e,"target")))))}(t);if(!n)return;const o=d(e).map(e=>!!function(e){const t=e===n,o=n instanceof Node&&e.contains(n);return!(!t&&!o)}(e)&&e).filter(e=>!!e);return o?o.length&&1==o.length?o[0]:o:void 0}const Gt=["left","right"],Yt={tag:"drop-down",template:n(10),properties:{align:{format:Q(Ge,He(Gt),Te(Gt[0])),reflect:!0}},slots:{item:{target:".drop-down-items",multiple:!0},label:{target:".drop-down-label"}},elements:{itemsContainer:{selector:".drop-down-items",onChange:(e,t)=>e.events={click:z(e,"click").subscribe(n=>{const o=Zt(e.children,n);o&&re(t,"itemclicked",o)})}}}};de(Yt);const Kt={tag:"field-multiselect",template:n(11),properties:{label:{format:Q(Ge,Te(""),e=>C(e).sanitized)},value:{},options:{format:Q(Rt,_t,Jt)}},elements:{dropdownLabel:{selector:".field-multiselect-label",onChange(e,t){e.events={label:t.state.label.subscribe(t=>{e.label=t})}}},dropdown:{selector:".field-multiselect-dropdown",onChange(e,t){e.events={options:t.state.options.subscribe(t=>{d(e.querySelectorAll('[slot-ref="item"]')).forEach(t=>e.removeChild(t)),t.forEach(t=>{const n=document.createElement("field-checkbox");n.setAttribute("slot-ref","item"),n.label=t.textContent,n.name=t.value,e.appendChild(n)})})}}}},onConnected(e){e.setAttribute("ready",!0)}};de(Kt);const en=e=>{const t=Object.assign({},{"X-Requested-With":"XMLHttpRequest"},e.headers||{});return e.form?t["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8":t["Content-Type"]="application/json;charset=UTF-8",t},tn=e=>(e=>e instanceof FormData)(e)||"string"==typeof e||void 0===e?e:Q(pe,Te(null))(e);var nn=async function(e="/",t={}){return function(e){return new Promise((t,n)=>{const o=new XMLHttpRequest;o.open(e.method,e.url,!0);const r=()=>{const e=b(()=>JSON.parse(o.responseText))||o.responseText;return 200!==o.status?n(e):t(e)};Object.keys(e.headers).forEach(t=>o.setRequestHeader(t,e.headers[t])),o.withCredentials=e.credentials,o.onload=r,o.onerror=r,o.send(e.data)})}({data:tn(t.data),headers:en(t),method:t.method||"GET",credentials:Q(Ze,Te(!1))(t.withCredentials),url:"http://localhost:4915"+e})};const on={tag:"editor-function",template:n(12),properties:{fn:{format:Q(Ge,Te("")),onChange(e,t){e&&nn("/ast?fn="+encodeURIComponent(e)).then(e=>{t.ast=c(e,"result.program.body.0")}).catch(console.error)}},ast:{format:Q((function(e){if("string"==typeof e){const t=fe(e);if(y(t)&&N(t))return t}return x(e,N(e))}),Te({})),onChange(e){console.log(e)}}},elements:{name:{selector:'field-text[name="name"]',onChange(e,t){e.events={name:t.state.ast.subscribe(t=>{e.value=c(t,"id.name")})}}},addArgumentBtn:{selector:".add-argument-btn"}}};de(on);const rn={tag:"service-settings",template:n(13),elements:{name:{selector:'field-text[name="name"]',onChange:e=>e.events={service:qt.subscribeToCurrent(t=>e.value=t.name)}},btnAddPublicMethod:{selector:"#add-service-public-method",onChange(e,t){e.events={click:z(e,"click").subscribe(()=>re(t,"newmethod"))}}},functionEditor:{selector:"editor-function",onChange(e,t){e.overlay=Ue(document.body,e,{scrim:!0,widthbasis:"page"}),e.events={newProperty:z(t,"newmethod").subscribe(()=>{e.fn="function sayHi(nameOfPerson:string, num:number){return `Hi ${name}! It's ${num} o'clock`}",e.overlay.show()})}}}}};de(rn);const sn={tag:"services-list",template:n(14),elements:{itemsContainer:{selector:".services-list-items",onChange(e){e.events={list:qt.subscribeToList(t=>{oe(e),t.forEach(t=>{const n=Q(ke,Te(ke(new Date)))(t.updated),o=document.createElement("a");o.className="flex-between-center service-link",o.href="javascript:void(0)",o.innerHTML=`<span class="mright-1">${t.name}</span><span class="translucent">${n.monthDouble}/${n.dayDouble}/${n.yearShort}</span>`,o.setAttribute("service-id",t.id),e.appendChild(o);const r=z(o,"click");r&&(o.events={click:r.subscribe(()=>qt.current=t.id)})})}),current:qt.subscribeToCurrent(t=>d(e.querySelectorAll(".service-link")).forEach(e=>e.classList[e.getAttribute("service-id")===t.id?"add":"remove"]("active-bg")))}}},newServiceBtn:{selector:".new-service-btn",onChange(e){const t=z(e,"click");t&&(e.events={click:t.subscribe(()=>qt.current={})})}}}};de(sn);function an(e){e&&(e.content&&Object.keys(e.content).forEach(t=>{const n=document.getElementById(t);n&&(d(n.children).forEach(f),e.content&&e.content[t].forEach(e=>{const t=m(e);t&&n.appendChild(t)}))}),d(document.body.querySelectorAll("#top-section a")).forEach(t=>t.classList[e.path==t.pathname.slice(1)?"add":"remove"]("active")))}var cn=function(){const e={router:X(o)};return e.router.subscribeToRoute(an),{services:e}};Z().then(()=>cn())}]);